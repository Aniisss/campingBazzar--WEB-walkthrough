"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6408],{35693:function(e,t,i){i.d(t,{m:function(){return r},H:function(){return o}});var n=i(24246),a=i(35286);let r=e=>{let{theme:t,children:i,...r}=e,l=(0,a.cn)("flex rounded-full border-2 border-solid",{"border-white":"light"===t,"border-slate-800":"dark"===t});return(0,n.jsx)("div",{className:l,...r,children:i})};var l=i(27378),s=i(83644);let o=(0,l.forwardRef)((e,t)=>{let{theme:i="light",size:o="sm",total:d=3,hasOverflow:c,totalEntityCount:u,children:m,...x}=e,f=s.PM[o],v=s.bf[o],h=(null!=u?u:l.Children.toArray(m).length)-d,p=(0,a.cn)("inline-block px-2",x.className),g=(0,a.cn)("pl-[6px] font-semibold leading-5",{"text-slate-500":"light"===i,"text-slate-200":"dark"===i});return(0,n.jsx)("div",{ref:t,...x,className:p,children:(0,n.jsxs)("div",{className:"relative flex items-center justify-center",children:[l.Children.map(m,(e,t)=>t<d&&(0,n.jsx)(r,{style:{marginLeft:0===t?0:-f/2,zIndex:d-t},theme:i,children:(0,l.cloneElement)(e,{theme:"dark"===i?"light":"dark",size:o})})),c&&h>0&&(0,n.jsx)("div",{className:g,style:{fontSize:v+2},children:h<=99?"+".concat(h):"99+"})]})})})},87846:function(e,t,i){i.d(t,{C:function(){return c}});var n=i(24246),a=i(94033),r=i(47404),l=i(27378),s=i(35286);let o=(0,r.j)("inline-flex items-center rounded font-bold gap-1 transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{light:"bg-slate-200 text-slate-700",dark:"text-slate-200 bg-slate-700",success:"text-emerald-700 bg-emerald-100",destructive:"bg-red-100 text-red-700",brand:"bg-brand-100 text-brand-700"},size:{sm:"text-[8px] p-1 uppercase leading-none",lg:"text-xs px-1.5 py-1 leading-[10px]"}},defaultVariants:{variant:"light",size:"sm"}}),d=(0,r.j)("h-2.5 w-2.5 shrink-0",{variants:{variant:{light:"text-slate-400",dark:"text-slate-400",success:"text-emerald-400",destructive:"text-red-400",brand:"text-brand-400"},size:{sm:"h-2.5 w-2.5",lg:"h-3 w-3"}}}),c=l.forwardRef((e,t)=>{let{variant:i,size:r,icon:l,children:c,className:u,...m}=e;return(0,n.jsxs)("div",{ref:t,className:(0,s.cn)(o({variant:i,size:r}),u),...m,children:[l&&(0,n.jsx)(a.G,{icon:l,className:d({variant:i,size:r})}),c]})})},25796:function(e,t,i){i.d(t,{X:function(){return f}});var n=i(24246),a=i(92767),r=i(47404),l=i(27378),s=i(3209),o=i(35286);let d=e=>{let{disabled:t}=e;return(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[(0,n.jsx)("rect",{width:"20",height:"20",rx:"5",fill:t?"#F1F5F9":"#4F46E5"}),(0,n.jsx)("g",{filter:"url(#filter0_d_1590_1429)",children:(0,n.jsx)("path",{d:"M6.5 10.5L9 13L14.5 7.5",stroke:t?"#CBD5E1":"white",strokeWidth:"2.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,n.jsx)("defs",{children:(0,n.jsxs)("filter",{id:"filter0_d_1590_1429",x:"4.375",y:"5.875",width:"12.25",height:"9.75",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dy:"0.5"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"0.5"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1590_1429"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1590_1429",result:"shape"})]})})]})},c=e=>{let{disabled:t}=e;return(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[(0,n.jsx)("rect",{width:"20",height:"20",rx:"5",fill:t?"#F1F5F9":"#4F46E5"}),(0,n.jsx)("g",{filter:"url(#filter0_d_1590_1409)",children:(0,n.jsx)("path",{d:"M7 10H13",stroke:t?"#CBD5E1":"white",strokeWidth:"2.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,n.jsx)("defs",{children:(0,n.jsxs)("filter",{id:"filter0_d_1590_1409",x:"4.875",y:"8.375",width:"10.25",height:"4.25",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dy:"0.5"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"0.5"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1590_1409"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1590_1409",result:"shape"})]})})]})},u=(0,r.j)("peer flex relative peer p-0 focus:outline-none focus:ring-[1.5px] focus:ring-indigo-500 disabled:cursor-not-allowed cursor-pointer bg-white focus:outline-none ring-offset-2 disabled:bg-slate-100 disabled:border-none border border-slate-400",{variants:{size:{default:"rounded-[5px] h-5 w-5",sm:"rounded h-4 w-4 mt-0.5"},checked:{false:"",true:"",indeterminate:""}},defaultVariants:{size:"default",checked:!1}}),m=(0,r.j)("absolute left-[-1px] top-[-1px] flex items-center justify-center text-current",{variants:{size:{default:"h-5 w-5",sm:"h-4 w-4"}},defaultVariants:{size:"default"}}),x=(0,r.j)("flex gap-3 items-start",{variants:{align:{left:"",right:"flex-row-reverse justify-between"}},defaultVariants:{align:"left"}}),f=l.forwardRef((e,t)=>{var i,r,l,f,v,h,p,g;let{checked:b,size:j="default",disabled:_,label:w,align:y,helpText:N,className:k,...E}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:x({align:y}),children:[(0,n.jsx)(a.fC,{ref:t,className:(0,o.cn)(k,u({checked:b,size:j})),checked:b,disabled:_,id:null!==(p=null==E?void 0:E.id)&&void 0!==p?p:null==E?void 0:null===(r=E.name)||void 0===r?void 0:null===(i=(l=r.replace(/\s/g,"")).toLowerCase)||void 0===i?void 0:i.call(l),...E,children:(0,n.jsxs)(a.z$,{className:m({size:j}),children:["indeterminate"===b&&(0,n.jsx)(c,{disabled:_}),!0===b&&(0,n.jsx)(d,{disabled:_})]})}),w&&(0,n.jsx)(s._,{htmlFor:null!==(g=null==E?void 0:E.id)&&void 0!==g?g:null==E?void 0:null===(v=E.name)||void 0===v?void 0:null===(f=(h=v.replace(/\s/g,"")).toLowerCase)||void 0===f?void 0:f.call(h),children:w})]}),N&&(0,n.jsxs)("div",{className:x({align:y}),children:[(0,n.jsx)("div",{className:(0,o.cn)({"min-h-[20px] min-w-[20px]":"default"===j,"min-h-[16px] min-w-[16px]":"sm"===j})}),(0,n.jsx)("p",{className:"mt-2 text-sm font-normal leading-5 text-slate-400",children:N})]})]})})},89802:function(e,t,i){i.d(t,{I:function(){return o},T:function(){return s}});var n=i(24246),a=i(47404),r=i(27378),l=i(35286);let s=(0,a.j)("rounded border-none font-sans outline outline-1 transition-[outline] focus:outline-2 disabled:cursor-not-allowed disabled:opacity-50",{variants:{darkMode:{false:"bg-white disabled:bg-slate-100",true:"bg-transparent disabled:bg-slate-800"},error:{false:"",true:"outline-red-400 focus:outline-red-400"},small:{false:"px-3 py-2.5 text-sm",true:"px-2 py-[8.5px] text-[13px] leading-[15px]"}},compoundVariants:[{error:!1,darkMode:!1,className:"text-slate-800 outline-slate-300 placeholder:text-slate-400 focus:outline-indigo-400"},{error:!1,darkMode:!0,className:"text-slate-300 outline-slate-600 placeholder:text-slate-500 focus:outline-indigo-400"},{error:!0,darkMode:!1,className:"text-red-800 placeholder:text-red-800"},{error:!0,darkMode:!0,className:"text-red-200 placeholder:text-red-200"}],defaultVariants:{darkMode:!1,error:!1,small:!1}}),o=r.forwardRef((e,t)=>{let{darkMode:i=!1,error:a=!1,small:r=!1,className:o,...d}=e;return(0,n.jsx)("input",{ref:t,className:(0,l.cn)(s({darkMode:i,error:a,small:r}),o),...d})})},79369:function(e,t,i){i.d(t,{I:function(){return n.I},T:function(){return n.T}});var n=i(89802)},78852:function(e,t,i){i.d(t,{_:function(){return d}});var n=i(24246),a=i(78166),r=i(47404),l=i(27378),s=i(35286);let o=(0,r.j)("block text-sm font-medium peer-disabled:cursor-not-allowed peer-disabled:opacity-50",{variants:{theme:{dark:"text-slate-50",light:"text-slate-800"}},defaultVariants:{theme:"light"}}),d=l.forwardRef((e,t)=>{let{theme:i,className:r,...l}=e;return(0,n.jsx)(a.f,{ref:t,className:(0,s.cn)(o({theme:i}),r),...l})})},3209:function(e,t,i){i.d(t,{_:function(){return n._}});var n=i(78852)},87013:function(e,t,i){i.d(t,{E:function(){return c}});var n=i(24246),a=i(31595),r=i(47404),l=i(27378),s=i(35286);let o=(0,r.j)("relative w-full overflow-hidden rounded-full shadow-inner",{variants:{variant:{primary:"bg-slate-200",success:"bg-green-400 bg-opacity-30"},size:{md:"h-1.5",lg:"h-2"}},defaultVariants:{variant:"primary",size:"md"}}),d=(0,r.j)("h-full w-full flex-1 rounded-full",{variants:{variant:{primary:"bg-gradient-to-r from-brand-600 to-brand-500",success:"bg-gradient-to-r from-emerald-500 to-emerald-400"}},defaultVariants:{variant:"primary"}}),c=l.forwardRef((e,t)=>{let{animate:i=!0,variant:r="primary",size:l="md",className:c,value:u,...m}=e;return(0,n.jsx)(a.fC,{ref:t,className:(0,s.cn)(o({variant:r,size:l}),c),...m,children:(0,n.jsx)(a.z$,{className:(0,s.cn)(d({variant:r}),{"transition-all":i}),style:{transform:"translateX(-".concat(100-(u||0),"%)")}})})})},12320:function(e,t,i){i.d(t,{mQ:function(){return d},nU:function(){return m},dr:function(){return c},SP:function(){return u}});var n=i(24246),a=i(94033),r=i(9018),l=i(47404),s=i(27378),o=i(35286);let d=(0,s.forwardRef)((e,t)=>{let{theme:i="light",children:a,...l}=e;return(0,n.jsx)(r.fC,{ref:t,"data-theme":i,...l,children:a})}),c=(0,s.forwardRef)(e=>{let{className:t,variant:i="underline",children:a,...o}=e,d=(0,s.useRef)(null),[c,u]=(0,s.useState)(null);(0,s.useEffect)(()=>{if(!(null==d?void 0:d.current))return;let e=e=>{let{animate:t=!0}=e;if(d.current){let e=d.current.querySelector("[data-tab-indicator]");if(e&&c){let{offsetLeft:n,offsetWidth:a}=c,{paddingLeft:r,paddingRight:l}=getComputedStyle(c),s="underline"===i?a-parseFloat(r)-parseFloat(l):a;e.style.transition=t?"transform 150ms, width 150ms":"none",e.style.width="".concat(s,"px"),e.style.transform="translateX(".concat(n,"px)")}}},t=new MutationObserver(t=>{t.forEach(()=>{if(d.current){let t=d.current.querySelector('[data-state="active"]');t!==c?(u(t),e({animate:!0})):e({animate:!1})}})});return t.observe(d.current,{attributes:!0,attributeFilter:["data-state"],childList:!0,subtree:!0}),u(d.current.querySelector('[data-state="active"]')),e({animate:!0}),()=>t.disconnect()},[d,c,i,o]);let m=(0,l.j)("relative isolate h-10 min-w-max",{variants:{variant:{underline:"-mx-3 inline-flex items-end justify-center bg-transparent pb-1",switch:"inline-grid w-full auto-cols-fr grid-flow-col grid-rows-1 items-start justify-start rounded-[10px] bg-slate-100 dark:bg-slate-950/50 p-1 shadow-[0_0_1_0_rgba(71,85,105,0.2)_inset] dark:shadow-[0_0_0_1px_rgba(0,0,0,0.2)_inset]"}},defaultVariants:{variant:"underline"}}),x=(0,l.j)("absolute left-0",{variants:{variant:{underline:"-bottom-0.5 left-3 h-0.5 bg-indigo-500",switch:"inset-y-1 rounded-md bg-white dark:bg-slate-800 shadow shadow-slate-900/15 dark:shadow-[0_0_0_1px_rgba(255,255,255,0.02)_inset] dark:shadow-[0_1px_0_0_rgba(255,255,255,0.05)_inset]"}}});return(0,n.jsxs)(r.aV,{ref:d,className:m({variant:i,className:t}),...o,children:[a,"underline"===i&&(0,n.jsx)("div",{role:"presentation",className:"absolute inset-x-3 -bottom-0.5 h-0.5 bg-slate-200 dark:bg-slate-700/50"}),(0,n.jsx)("div",{"data-tab-indicator":!0,role:"presentation",className:x({variant:i})})]})}),u=(0,s.forwardRef)((e,t)=>{let{className:i,count:l,icon:s,children:d,...c}=e;return(0,n.jsxs)(r.xz,{ref:t,className:(0,o.cn)("focus-visible:outline-brand-400 group relative z-10 flex h-8 cursor-pointer items-center justify-center gap-2 rounded-md bg-transparent px-3 py-2 font-sans text-sm font-medium text-slate-500 dark:text-slate-400 transition-colors duration-100 ease-linear hover:text-slate-800 dark:hover:text-slate-300 focus-visible:outline focus-visible:outline-[1.5px] focus-visible:ring-0 data-[disabled]:cursor-default data-[disabled]:text-slate-300 dark:data-[disabled]:text-slate-500 data-[state=active]:text-slate-900 dark:data-[state=active]:text-slate-50 data-[disabled]:hover:bg-transparent",i),...c,children:[s&&(0,n.jsx)(a.G,{icon:s,width:16,height:16,className:(0,o.cn)("h-4 w-4 text-slate-400 dark:text-slate-500 transition-colors group-hover:text-slate-500 dark:group-hover:text-slate-400 group-data-[disabled]:text-slate-300 dark:group-data-[disabled]:text-slate-600 dark:group-data-[state=active]:text-slate-400")}),d,l?(0,n.jsx)("span",{className:(0,o.cn)("h-4 rounded bg-slate-400/10 dark:bg-slate-500/20 px-1 py-0.5 text-center text-[11px] font-semibold leading-[13px] text-slate-400 dark:text-slate-400 transition-colors group-hover:text-slate-500 dark:group-hover:text-slate-400 group-data-[state=active]:bg-slate-100 dark:group-data-[state=active]:bg-slate-700 group-data-[disabled]:text-slate-300 dark:group-data-[disabled]:text-slate-600 group-data-[state=active]:text-slate-500 dark:group-data-[state=active]:text-slate-300"),children:l}):null]})}),m=(0,s.forwardRef)((e,t)=>{let{className:i,...a}=e;return(0,n.jsx)(r.VY,{ref:t,className:(0,o.cn)("focus-visible:outline-brand-400 mt-2 text-slate-800 dark:text-slate-200 focus-visible:rounded-md focus-visible:outline focus-visible:outline-[1.5px] focus-visible:outline-offset-2 focus-visible:ring-0",i),...a})})},963:function(e,t,i){i.d(t,{o:function(){return u}});var n=i(24246),a=i(22107),r=i(94033),l=i(27378),s=i(48407),o=i(79369),d=i(3209),c=i(35286);let u=l.forwardRef((e,t)=>{var i,l,u,m,x,f,v,h;let{label:p,helpText:g,icon:b,onClear:j,iconProps:_,iconLeft:w,className:y,fullWidth:N,...k}=e;return(0,n.jsxs)("div",{className:N?"group w-full":"group w-fit",children:[p&&(0,n.jsx)(d._,{htmlFor:null!==(v=null==k?void 0:k.id)&&void 0!==v?v:null==k?void 0:null===(l=k.name)||void 0===l?void 0:null===(i=(u=l.replace(/\s/g,"")).toLowerCase)||void 0===i?void 0:i.call(u),theme:k.darkMode?"dark":"light",className:"mb-2",children:p}),(0,n.jsxs)("div",{className:"relative",children:[w&&(0,n.jsx)(r.G,{icon:w,..._,className:(0,c.cn)("absolute top-1/2 z-10 -translate-y-1/2 ",{"text-slate-500":!k.darkMode,"text-slate-300":k.darkMode},k.small?"left-2":"left-3",null==_?void 0:_.className)}),(0,n.jsx)(o.I,{ref:t,id:null!==(h=null==k?void 0:k.id)&&void 0!==h?h:null==k?void 0:null===(x=k.name)||void 0===x?void 0:null===(m=(f=x.replace(/\s/g,"")).toLowerCase)||void 0===m?void 0:m.call(f),className:(0,c.cn)("peer",{"pr-[30px]":b&&!k.small,"pr-[34px]":b&&k.small,"pl-9":w&&!k.small,"pl-7":w&&k.small,"w-full":N},y),...k}),b&&(0,n.jsx)(r.G,{icon:b,..._,className:(0,c.cn)("absolute top-1/2 h-4 w-4 -translate-y-1/2",{"text-slate-500":!k.error&&!k.darkMode,"text-slate-300":!k.error&&k.darkMode,"text-red-500":k.error},k.small?"right-2":"right-3",null==_?void 0:_.className)}),(null==k?void 0:k.value)&&!b&&j&&(0,n.jsx)(s.z,{"aria-label":"Clear ".concat(p||"input"),"data-testid":"clear-input",className:(0,c.cn)("absolute top-1/2 size-6 -translate-y-1/2 cursor-pointer bg-transparent opacity-50 [&_svg]:size-4",k.small?"right-2":"right-3",null==_?void 0:_.className),darkMode:k.darkMode,variant:"ghost",onClick:j,icon:a.YIN})]}),g&&(0,n.jsx)("p",{className:(0,c.cn)("m-0 font-sans text-sm leading-4",{"text-slate-500":!k.error&&!k.darkMode,"text-red-600":k.error&&!k.darkMode,"text-slate-300":!k.error&&k.darkMode,"text-red-300":k.error&&k.darkMode},k.small?"mt-2":"mt-3"),children:g})]})})},1581:function(e,t,i){i.d(t,{u:function(){return d},Ce:function(){return x},_v:function(){return m},NM:function(){return f},pn:function(){return o},aJ:function(){return c}});var n=i(24246),a=i(2898),r=i(47404),l=i(27378),s=i(35286);let o=a.zt,d=e=>(0,n.jsx)(a.fC,{delayDuration:100,...e}),c=e=>{let{asChild:t=!0,...i}=e;return(0,n.jsx)(a.xz,{asChild:t,...i})},u=(0,r.j)("font-sans animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 overflow-hidden bg-slate-800 text-slate-100",{variants:{variant:{default:"h-9 flex items-center rounded-lg px-4 text-sm font-medium",compact:"text-xs px-2 py-1 flex items-center rounded"}},defaultVariants:{variant:"default"}}),m=l.forwardRef((e,t)=>{let{className:i,sideOffset:r=10,variant:l="default",...o}=e;return(0,n.jsx)(a.VY,{ref:t,sideOffset:r,className:(0,s.cn)(u({variant:l}),i),...o})}),x=a.Eh,f=a.h_},92923:function(e,t,i){i.d(t,{p:function(){return o}});var n=i(24246),a=i(83469),r=i(83644),l=i(48407),s=i(83449),o=e=>{let{selectedTeam:t,teams:i,onSelect:o}=e;return i&&t?(0,n.jsxs)(s.h_,{children:[(0,n.jsx)(s.$F,{asChild:!0,children:(0,n.jsx)(l.z,{icon:a.gc2,iconPosition:"right",variant:"secondary",className:"flex w-fit items-center","aria-label":"Select a team",children:(0,n.jsx)("div",{className:"inline-flex items-center gap-[6px]",children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.qE,{color:t.color||"blue",size:"xxs",shape:"square",children:t.name}),t.name.length>20?"".concat(t.name.slice(0,20),"..."):t.name]})})})}),(0,n.jsx)(s.AW,{className:"z-[1000000]",align:"start",children:i.map(e=>(0,n.jsx)(s.Xi,{onSelect:()=>o(e),avatarProps:{size:"xxs",shape:"square",color:e.color||"blue",children:e.name},showAvatar:!0,title:e.name,children:e.name},e.id))})]}):null}},82334:function(e,t,i){i.d(t,{Pz:function(){return R},vM:function(){return a},fL:function(){return C}});var n,a,r=i(24246),l=i(19686),s=i(46854),o=i.n(s),d=i(86677),c=i(27378),u=i(33563),m=i(85878),x=i(69876),f=i(43879),v=i(78554),h=i(41255);let p=e=>{let{invitations:t}=e;return(()=>{let e=new Set([]);return Object.values(t).forEach(t=>{let{errors:i}=t;i.forEach(t=>e.add(t))}),Array.from(e)})().map(e=>(0,r.jsx)(f.Z,{title:e,variant:"error",className:"mt-4"}))},g=e=>{let{showSlackImport:t,bgColor:i="white",invitations:n,setInvitations:a,teamToInviteTo:l,location:s,setSentInvitations:o,updateStoreAfterMutation:d,setFailedInvitations:c,bulkPermissionLevel:u,invitationInputsState:m}=e;return(0,r.jsxs)("div",{className:"mt-6 flex h-16 w-full items-center justify-end px-6 py-4 ".concat(i),children:[t&&(0,r.jsx)(w,{invitations:n,setInvitations:a}),(0,r.jsx)(S,{invitations:n,setInvitations:a,teamToInviteTo:l,location:s,setSentInvitations:o,updateStoreAfterMutation:d,setFailedInvitations:c,bulkPermissionLevel:u,invitationInputsState:m})]})};var b=i(88918),j=i(27244),_=i(48407);let w=e=>{let{buttonSize:t="default",invitations:i,setInvitations:n}=e,[a,l]=(0,c.useState)(!1),{slackToken:s,refetch:o}=(0,j.Z)(),d=e=>{let t={};e.forEach(e=>{let i=C({email:e});t={...t,[i.id]:i}}),n(t={...i,...t})},u=(0,c.useCallback)(()=>(0,r.jsx)(_.z,{onClick:()=>{if(!s){var e,t;null===(t=window)||void 0===t||null===(e=t.open("https://getscribe.how/slackapp","_blank"))||void 0===e||e.focus()}l(!0)},variant:"secondary",size:t,children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("img",{src:b.mC,alt:"Slack",className:"w-54 mr-2 h-5 rounded-full"}),(0,r.jsx)("span",{children:"Import from Slack"})]})}),[s]);return(0,r.jsxs)(r.Fragment,{children:[a&&(0,r.jsx)(b.LS,{slackToken:s,refetchToken:o,title:"Import Teammates from Slack",onContinue:e=>{d(e.map(e=>{let{email:t}=e;return t})),l(!1)},onBack:()=>l(!1)}),u()]})};var y=i(56552),N=i(3267);let k=async e=>{let{organizationId:t,invitations:i,bulkPermissionLevel:n,invitationInputsState:r,additionalMessage:l="",location:s=""}=e,o={},d={};return Promise.all(Object.entries(i).map(async e=>{let[i,{email:c,permissionLevel:u,errors:m}]=e;return N.Z.inviteUser(c,t,l,u,void 0,s).then(()=>(d={...d,[i]:{email:c,permissionLevel:r===a.BULK?n:u,errors:[...m]}},!0)).catch(e=>(o={...o,[i]:{email:c,permissionLevel:u,errors:[...m]}},e[0]?o[i].errors.push("Error sending an invite to ".concat(c,".\nReason: ").concat(e[0])):e.detail&&o[i].errors.push(e.detail),!1)).finally(()=>{})})).then(()=>({failedInvitations:o,sentInvitations:d}))};var E=i(86895);let S=e=>{let{buttonSize:t,invitations:i,setInvitations:n,teamToInviteTo:a,location:l,setSentInvitations:s,updateStoreAfterMutation:o,setFailedInvitations:d,bulkPermissionLevel:u,invitationInputsState:m}=e,[x,f]=(0,c.useState)(!1),v=e=>{let{failedInvitations:t,sentInvitations:i}=e;s(Object.keys(i).length),d(t),n(t),f(!1)},{mutate:h}=(0,y.useMutation)(k,{onSuccess:e=>{v(e),o()}});return(0,r.jsx)(_.z,{size:t,variant:"primary",className:"relative ml-3",onClick:e=>{e.preventDefault();let t=(0,E.df)(i);f(!0),h({organizationId:a.id,invitations:t,invitationInputsState:m,bulkPermissionLevel:u,location:l})},disabled:x,loading:x,children:"Send Invites"})},C=e=>{var t,i,n,a;return{id:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:o()(),email:null!==(i=null==e?void 0:e.email)&&void 0!==i?i:"",permissionLevel:null!==(n=null==e?void 0:e.permissionLevel)&&void 0!==n?n:"write",errors:null!==(a=null==e?void 0:e.errors)&&void 0!==a?a:[]}},L=o()(),z=o()(),I=o()(),T={[L]:C({id:L}),[z]:C({id:z}),[I]:C({id:I})};(n=a||(a={})).DISCRETE="DISCRETE",n.BULK="BULK";let R=e=>{let{isModal:t=!1,viewerLicensesEnabled:i,localStorageInvitations:n,setLocalStorageInvitations:a,localStorageInvitationInputsState:s,setLocalStorageInvitationInputsState:o,...b}=e,j=(0,d.useRouter)(),[_,w]=(0,c.useState)(s||(b.isEnterprise?"BULK":"DISCRETE")),[y,N]=(0,c.useState)(n||T),[k,E]=(0,c.useState)(0),[S,L]=(0,c.useState)({}),[z,I]=(0,c.useState)("write"),{canChangeOrDeleteDocumentsOrFolders:R,isSystemAdmin:F}=(0,l.TR)(),[O,P]=(0,c.useState)(!1),A=(0,u.z)("view-only-feature"),Z=e=>{let t=Object.keys(e).length,i=0;return t<3?i=3-t:0===Object.values(e).filter(e=>{let{email:t}=e;return!t}).length&&(i=1),i},M=e=>{let t={...e},i=Z(e);for(let e=0;e<i;e++){let e=C();t={...t,[e.id]:e}}null==a||a(t),N(t)},D=()=>{let e="DISCRETE"===_?"BULK":"DISCRETE";null==o||o(e),w(e)},B=()=>(0,m.ic)()?j.push(A):P(!0);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:t?"h-auto px-5 py-2":"",children:["DISCRETE"===_?(0,r.jsx)(h.Qh,{invitations:y,handleEmailChange:e=>t=>{let i=t.target.value;M({...y,[e]:{...y[e],email:i}})},setInvitations:M,toggleInvitationInputsState:D,handleEnterpriseOptionClick:B,viewerLicensesEnabled:i,shouldShowPermissionDropdown:R||F,...b}):(0,r.jsx)(h.Uj,{invitations:y,setInvitations:M,toggleInvitationInputsState:D,userPermissionLevel:b.userPermissionLevel,handleEnterpriseOptionClick:B,shouldShowPermissionDropdown:R||F,viewerLicensesEnabled:i,failedInvitations:S,bulkPermissionLevel:z,setBulkPermissionLevel:I}),(0,r.jsx)(p,{invitations:y}),(0,r.jsx)(f.Z,{className:"mt-4",title:k>0?"The ".concat(1===k?"invite has":"invites have"," been sent successfully."):"",variant:"success"})]}),(0,r.jsx)(g,{showSlackImport:!0,bgColor:t?"bg-slate-100":"",invitations:y,setInvitations:M,teamToInviteTo:b.teamToInviteTo,location:b.location,setSentInvitations:E,updateStoreAfterMutation:b.updateStoreAfterMutation,setFailedInvitations:L,bulkPermissionLevel:z,invitationInputsState:_}),O&&(0,r.jsx)(v.ZP,{selectedFeature:(0,v.Fq)("licenses"),onScheduleDemo:e=>{(0,x.YQ)(A)},onClose:()=>{P(!1)}})]})}},41255:function(e,t,i){i.d(t,{Uj:function(){return u},Qh:function(){return h},Gx:function(){return N},L8:function(){return D}});var n,a,r=i(24246),l=i(27378),s=i(48407),o=i(33774),d=i(82334),c=i(86895);let u=e=>{let{invitations:t,setInvitations:i,toggleInvitationInputsState:n,userPermissionLevel:a,handleEnterpriseOptionClick:u,shouldShowPermissionDropdown:m,viewerLicensesEnabled:x,failedInvitations:f,bulkPermissionLevel:v,setBulkPermissionLevel:h}=e,[p,g]=(0,l.useState)(Object.values(t).map(e=>{let{email:t}=e;return t}).filter(e=>!!e));return(0,l.useEffect)(()=>{let e={};p.forEach(i=>{let n=(0,d.fL)({email:i,errors:(0,c.GQ)({email:i,invitations:t})});e={...e,[n.id]:n}}),i(e)},[p]),(0,r.jsxs)("div",{className:"h-full p-1",children:[(0,r.jsx)(o.Z,{emails:p,placeholder:"Emails, comma separated",onChange:e=>{g(e)},className:m&&"!pr-20",onPermissionChange:e=>h(e),permissionLevel:v,showPermissionDropdown:m,containerClassName:"mb-2 mt-0 min-h-28",errorEmails:Object.values(f).map(e=>{let{email:t}=e;return t}),viewerLicensesEnabled:x,onEnterpriseOptionClick:u,userPermissionLevel:a,permissionLevelClassName:"top-4 items-start"}),(0,r.jsx)(s.z,{variant:"ghost",className:"mt-4",onClick:n,children:"+ Add members individually"})]})};var m=i(963),x=i(1581),f=i(10975),v=i(7367);let h=e=>{let{invitations:t,handleEmailChange:i,setInvitations:n,toggleInvitationInputsState:a,viewerLicensesEnabled:o,handleEnterpriseOptionClick:d,userPermissionLevel:u,shouldShowPermissionDropdown:h}=e,p=(0,l.useRef)({}),g=e=>{let{id:i,email:a}=e;n({...t,[i]:{...t[i],errors:(0,c.GQ)({email:a,invitations:t})}})},b=e=>i=>{n({...t,[e]:{...t[e],permissionLevel:i}})},j=e=>i=>{let{target:{value:n}}=i;if(g({id:e,email:n}),(0,f.Ju)(n)&&!(0,c.Lr)({email:n,invitations:t})){var a,r;let i=parseInt(e),n=null===(a=Object.entries(t).find(e=>{let[t,n]=e;return parseInt(t)>i&&!n.email}))||void 0===a?void 0:a[0];n&&p.current[n]&&(null===(r=p.current[n])||void 0===r||r.focus())}};return(0,l.useEffect)(()=>{var e,i;let n=null===(e=Object.entries(t).find(e=>{let[t,i]=e;return!i.email}))||void 0===e?void 0:e[0];n&&p.current[n]&&(null===(i=p.current[n])||void 0===i||i.focus())},[]),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"max-h-80 overflow-y-auto p-1",children:Object.keys(t).map(e=>{var n,a;return(0,r.jsxs)("div",{className:"relative mb-4",children:[(0,r.jsx)(m.o,{type:"email",id:"email",ref:t=>{p.current[e]=t},className:"m-0 h-12 w-full rounded-lg",fullWidth:!0,value:null!==(n=t[e].email)&&void 0!==n?n:"",placeholder:"Enter email","aria-label":"invite-email",onChange:i(e),error:!!t[e].errors.length,onBlur:j(e)}),h&&(0,r.jsx)("div",{className:"absolute right-2 top-0 flex h-full cursor-pointer flex-row items-center justify-between",children:(0,r.jsx)(v.Z,{viewerLicensesEnabled:o,userPermissionLevel:u,permission:null!==(a=t[e].permissionLevel)&&void 0!==a?a:"write",onPermissionChange:b(e),onEnterpriseOptionClick:d})})]},e)})}),(0,r.jsx)(x.pn,{children:(0,r.jsxs)(x.u,{children:[(0,r.jsx)(x.aJ,{children:(0,r.jsx)(s.z,{variant:"ghost",onClick:a,children:"+ Bulk Invite"})}),(0,r.jsx)(x._v,{children:(0,r.jsx)("span",{children:"Invite more than three users at once. Assigns the same role to all invited users."})})]})})]})};var p=i(19686),g=i(92923),b=i(54062),j=i(16125),_=i(1381),w=i(43044),y=i(12320);(n=a||(a={})).EMAIL="Email",n.PENDING="Pending";let N=e=>{var t,i;let{visible:n,onClose:a,invitingTeam:s,location:o}=e,{data:d}=(0,b.ZP)(),{teams:c}=(0,j.v9)(_.Gx),[u,m]=(0,l.useState)("Email"),[x,v]=(0,l.useState)(s||(null==d?void 0:d.active_organization)),{isSystemAdmin:h}=(0,p.TR)(),N=h?"admin":null==x?void 0:x.permission_level;return d&&(null==d?void 0:d.active_organization)&&(null==d?void 0:d.active_organization.super_organization)?(0,r.jsx)(w.Vq,{open:n,onOpenChange:()=>{a()},children:(0,r.jsxs)(w.cZ,{children:[(0,r.jsx)(w.fK,{title:"Invite Teammates",description:"Letâ€™s get the rest of your team using Scribe!"}),(0,r.jsxs)(w.SL,{className:"px-0 pb-0",children:[(0,r.jsxs)("div",{className:"px-6",children:[c.length>=2&&(0,r.jsx)(g.p,{selectedTeam:x,teams:c,onSelect:v}),(0,r.jsx)(y.mQ,{value:u,onValueChange:e=>{m(e)},className:"mb-8 mt-4",children:(0,r.jsxs)(y.dr,{children:[(0,r.jsx)(y.SP,{value:"Email",children:"Email"}),(0,r.jsx)(y.SP,{value:"Pending",children:"Pending"})]})})]}),(0,r.jsx)(D,{currentTab:u,userPermissionLevel:N,teamToInviteTo:x,location:o,viewerLicensesEnabled:null==d?void 0:null===(i=d.active_organization)||void 0===i?void 0:null===(t=i.super_organization)||void 0===t?void 0:t.allow_viewer_licenses,isEnterprise:(()=>{var e;let t=null==d?void 0:null===(e=d.active_organization)||void 0===e?void 0:e.super_organization;return(0,f.IJ)(t)||(0,f.By)(t)})()})]})]})}):null};var k=i(18022),E=i(56552),S=i(3267);let C=()=>(0,r.jsx)("div",{className:"flex h-24 w-full items-center justify-center",children:(0,r.jsx)("p",{className:"text-sm text-slate-500",children:"You haven't sent any invites yet."})}),L=e=>{let{bgColor:t="bg-[#F8FAFC]",disabled:i=!0,teamId:n,canResendAllInvites:a}=e,l=(0,j.I0)();return(0,r.jsx)(x.pn,{children:(0,r.jsxs)(x.u,{children:[(0,r.jsx)(x.aJ,{children:(0,r.jsx)("div",{className:"".concat(t," flex h-16 w-full items-center justify-end px-6"),children:(0,r.jsx)(s.z,{disabled:i,onClick:e=>{e.preventDefault(),l((0,_.u0)({teamId:n}))},children:"Resend All"})})}),(0,r.jsx)(x._v,{variant:"compact",children:a?"Resend all invitations":"Some invitations cannot be resent at this time. Please resend individually"})]})})},z=e=>{let{pendingInvite:t,deleteInvites:i}=e;return(0,r.jsxs)("div",{className:"flex h-12 items-center",children:[(0,r.jsx)("div",{className:"flex h-full w-full border-b border-slate-100 pl-4",children:(0,r.jsx)("div",{className:"flex",title:t.invited_user_email,children:(0,r.jsx)("p",{className:"line-clamp-1 block max-w-72 overflow-hidden text-ellipsis whitespace-nowrap text-left text-sm",children:t.invited_user_email})})}),(0,r.jsxs)("div",{className:"flex h-full flex-row items-center justify-end border-b border-slate-100 pl-4 pr-4",children:[(0,r.jsx)(Z,{pendingInvite:t}),(0,r.jsx)("div",{className:"mx-1 flex"}),(0,r.jsx)(P,{pendingInvite:t,deleteInvites:i})]})]},t.invited_user_email)},I=e=>{let{pendingInvites:t,deleteInvites:i}=e;return t.map(e=>(0,r.jsx)(z,{pendingInvite:e,deleteInvites:i}))},T=()=>(0,r.jsxs)("div",{className:"mb-2 flex h-12 w-full animate-pulse flex-row",children:[(0,r.jsx)("div",{className:"flex w-11/12 items-center border-b border-slate-200 pl-4",children:(0,r.jsx)("div",{className:"h-4 w-1/2 min-w-0 rounded bg-slate-200"})}),(0,r.jsxs)("div",{className:"justify-left flex w-auto flex-row items-center border-b border-slate-200 pr-4",children:[(0,r.jsx)("div",{className:"mr-3 flex h-4 w-4 rounded-full bg-slate-200"}),(0,r.jsx)("div",{className:"flex h-4 w-4 rounded-full bg-slate-200"})]})]}),R=()=>(0,r.jsxs)("div",{className:"mt-2 flex max-h-[400px] flex-col overflow-y-scroll pb-4",children:[(0,r.jsx)(T,{}),(0,r.jsx)(T,{}),(0,r.jsx)(T,{}),(0,r.jsx)(T,{})]});var F=i(83469),O=i(94033);let P=e=>{let{deleteInvites:t,pendingInvite:i}=e;return(0,r.jsx)(x.pn,{children:(0,r.jsxs)(x.u,{children:[(0,r.jsx)(x.aJ,{children:(0,r.jsx)("button",{className:"flex !cursor-pointer items-center justify-center bg-transparent p-0.5",onClick:()=>{t([i.invite_code])},children:(0,r.jsx)(O.G,{className:"h-4 w-4 text-slate-500",icon:F.NBC})})}),(0,r.jsx)(x._v,{variant:"compact",children:"Remove"})]})})};var A=i(22967);let Z=e=>{let{pendingInvite:t}=e,i=(0,j.I0)(),{isSystemAdmin:n}=(0,p.TR)(),a=(null==t?void 0:t.can_resend)||n;return(0,r.jsx)(x.pn,{children:(0,r.jsxs)(x.u,{children:[(0,r.jsx)(x.aJ,{children:(0,r.jsx)("button",{className:"flex !cursor-pointer items-center justify-center bg-transparent p-0.5",onClick:()=>{a&&i((0,_.c_)({inviteCode:t.invite_code}))},children:(0,r.jsx)(O.G,{className:(0,A.cn)("h-[14px] w-[14px] text-slate-500",!a&&!n&&"cursor-default text-slate-300"),icon:F.mHK})})}),(0,r.jsx)(x._v,{variant:"compact",children:a?"Resend Invitation":"Please wait 24 hours to resend invitation again"})]})})},M=e=>{let{teamToInviteTo:t,updateStoreAfterMutation:i}=e,{isSystemAdmin:n}=(0,p.TR)(),{data:a=[],isLoading:l,refetch:s}=(0,E.useQuery)(["invites",null==t?void 0:t.id],()=>S.Z.getTeamInvites(t.id),{enabled:!!t,refetchOnMount:!0}),{mutate:o}=(0,E.useMutation)(S.Z.deleteInvites,{onSuccess:()=>{s(),i()}}),d=a.every(e=>{let{can_resend:t}=e;return t});return l?(0,r.jsx)(R,{}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"h-60 max-h-96 overflow-auto px-6",children:[(0,r.jsxs)("div",{className:"flex flex-row items-center border-b border-slate-200",children:[(0,r.jsx)("div",{className:"flex w-full rounded-tl-lg pl-3",children:(0,r.jsx)("p",{className:"my-2 text-left text-sm font-semibold",children:"Emails"})}),(0,r.jsx)("div",{className:"flex rounded-tr-lg px-3",children:(0,r.jsx)("p",{className:"my-2 text-sm font-semibold",children:"Actions"})})]}),a.length?(0,r.jsx)(I,{deleteInvites:o,pendingInvites:a}):(0,r.jsx)(C,{})]}),(0,r.jsx)(L,{disabled:!n||!d||!a.length,teamId:t.id,canResendAllInvites:d})]})},D=e=>{let{currentTab:t,userPermissionLevel:i,teamToInviteTo:n,location:s,onSuccess:o,viewerLicensesEnabled:c,isEnterprise:u}=e,{organizationId:m}=(0,j.v9)(_.Gx),x=(0,E.useQueryClient)(),f=()=>{m===n.id&&dispatch(getTeamInvites({id:n.id})),x.invalidateQueries(["invites",n.id]),null==o||o()},[v,h]=(0,k.Z)("invitations"),[p,g]=(0,k.Z)("invitationInputsState",u?d.vM.BULK:d.vM.DISCRETE);return((0,l.useEffect)(()=>()=>{localStorage.removeItem("invitations"),localStorage.removeItem("invitationInputsState")},[]),t===a.PENDING)?(0,r.jsx)(M,{teamToInviteTo:n,updateStoreAfterMutation:f}):(0,r.jsx)(d.Pz,{isModal:!0,userPermissionLevel:i,teamToInviteTo:n,location:s,updateStoreAfterMutation:f,viewerLicensesEnabled:c,isEnterprise:u,localStorageInvitations:v,setLocalStorageInvitations:h,localStorageInvitationInputsState:p,setLocalStorageInvitationInputsState:g})}},86895:function(e,t,i){i.d(t,{GQ:function(){return r},Lr:function(){return a},df:function(){return l}});var n=i(10975);let a=e=>{let{email:t,invitations:i}=e;return Object.values(i).filter(e=>e.email===t).length>1},r=e=>{let{email:t,invitations:i}=e;if(!t)return[];let r=[];return(null==t?void 0:t.includes(" "))||(null==t?void 0:t.trim())==="undefined"||!(0,n.Ju)(t)?r.push("Not a valid email."):a({email:t,invitations:i})&&r.push("Email is already in the invite list"),r},l=e=>{let t={};return Object.entries(e).forEach(e=>{let[i,n]=e;n.email.length&&(t={...t,[i]:{...n}})}),t}},92366:function(e,t,i){i.d(t,{M:function(){return g}});var n=i(24246),a=i(10975),r=i(28509),l=i(46519),s=i(54062),o=i(27378),d=i(16125),c=i(92905),u=i(1381),m=i(83469),x=i(87846),f=i(1581);let v=e=>1===e?"unused seat":"unused seats",h=e=>{let{remainingSeats:t}=e;return(0,n.jsx)(f.pn,{children:(0,n.jsxs)(f.u,{children:[(0,n.jsx)(f.aJ,{children:(0,n.jsxs)(x.C,{variant:"success",size:"lg",icon:m.sqG,children:[t," ",v(t)]})}),(0,n.jsxs)(f._v,{side:"top",variant:"compact",className:"max-w-48",children:["Your plan includes ",t," ",v(t),". Add your teammates to get the most out of your plan."]})]})})},p=e=>{let{remainingSeats:t}=e;return(0,n.jsxs)("p",{className:"m-0 px-2 text-xs text-slate-300",children:["You still have ",(0,n.jsx)("span",{className:"text-emerald-400",children:t})," ",v(t)," in your plan"]})},g=e=>{let{withBadge:t}=e,i=(0,d.I0)(),m=(0,l.Z)(r.kT),{teammates:x,isLoading:f}=(0,d.v9)(u.UR),{isLoading:v,isLoadingPrice:g,isLoadingInfo:b,scribeProPriceId:j}=(0,d.v9)(c.Dh),{data:_}=(0,s.ZP)(),w=null==_?void 0:_.active_organization;(0,o.useEffect)(()=>{w&&i((0,c.fB)({superOrganizationId:w.super_organization.id}))},[w,i]);let y=5-x.length;return((0,o.useEffect)(()=>{(0,a.wm)(null==w?void 0:w.super_organization)&&y<5&&y>1&&m.requirementMet(!0)},[w,y]),y<1||y>=5||f||v||g||b||!(0,a.wm)(null==w?void 0:w.super_organization)||!m.ready||!m.enabled)?null:t?(0,n.jsx)(h,{remainingSeats:y}):(0,n.jsx)(p,{remainingSeats:y})}},88918:function(e,t,i){i.d(t,{LS:function(){return E},mC:function(){return w}});var n=i(24246),a=i(83469),r=i(22107),l=i(94033),s=i(56552),o=i(45719),d={getSlackWorkspaceUsers:async e=>(0,o.Z)("slack/user_list/?slack_token=".concat(e),"GET",!0)},c=e=>{let{data:t,isLoading:i,isError:n,error:a,refetch:r,isRefetching:l}=(0,s.useQuery)("slack_workspace_users_list",async()=>{try{return await d.getSlackWorkspaceUsers(e)}catch(e){throw e}},{enabled:!!e});return{data:t,isLoading:i,isError:n,error:a,refetch:r,isRefetching:l}},u=i(27378),m=i(16125),x=i(1381),f=i(83644),v=i(48407),h=i(25796),p=i(43044),g=i(8187),b=i(963),j=i(22967),_=i(42171);let w="https://colony-labs-public.s3.us-east-2.amazonaws.com/images/icons/app.slack.com.png",y=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.O,{className:"mb-5 h-10 w-full rounded-md"}),(0,n.jsx)(g.O,{className:"mb-5 h-6 w-24 rounded-md"}),(0,n.jsx)(g.O,{className:"mb-2 h-6 w-full rounded-md"}),(0,n.jsx)(g.O,{className:"mb-2 h-6 w-full rounded-md"}),(0,n.jsx)(g.O,{className:"mb-2 h-6 w-full rounded-md"})]}),N=e=>{let{hideBackButton:t,title:i,placeholderValue:s,initialOptions:o,onBack:d,onContinue:c,isLoading:m}=e,[x,g]=(0,u.useState)(""),[j,N]=(0,u.useState)(!1),[k,E]=(0,u.useState)(o),[S,C]=(0,u.useState)(k);return(0,u.useEffect)(()=>{(0,_.L9)("slack_picker_modal_selection_viewed")},[]),(0,u.useEffect)(()=>{E(o)},[o]),(0,u.useEffect)(()=>{x?C(k.filter(e=>{var t,i;return null==e?void 0:null===(i=e.name)||void 0===i?void 0:null===(t=i.toLowerCase())||void 0===t?void 0:t.includes(null==x?void 0:x.toLowerCase())})):C(k)},[x,k]),(0,n.jsx)(p.cZ,{scrollable:!1,className:"flex h-[466px] w-[440px] flex-col items-start",children:(0,n.jsxs)("div",{className:"flex w-auto min-w-full flex-1 flex-col items-start",children:[(0,n.jsxs)("div",{className:"flex w-full flex-1 flex-col items-start p-6",children:[(0,n.jsxs)("div",{className:"mb-5 flex w-full flex-col items-start gap-4",children:[(0,n.jsx)("img",{className:"h-8 w-8 rounded-full",src:w,alt:"Slack"}),(0,n.jsx)("span",{className:"self-stretch text-start text-xl font-semibold leading-7 text-slate-900",children:i})]}),m?(0,n.jsx)(y,{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"mb-3 w-full",children:(0,n.jsx)(b.o,{iconLeft:a.Y$T,fullWidth:!0,placeholder:s,onChange:e=>{1!==e.target.value.length&&g(e.target.value)}})}),(null==k?void 0:k.length)>1&&!x&&(0,n.jsxs)("div",{className:"flex w-[176px] flex-wrap content-start items-start gap-3 py-4 pl-1",children:[(0,n.jsx)(h.X,{checked:j,onCheckedChange:e=>{N(!0===e),E(k.map(t=>({...t,checked:!0===e}))),(0,_.L9)("slack_picker_modal_select_all_clicked")}}),(0,n.jsx)("span",{className:"text-sm font-semibold leading-5 text-[#0F172A]",children:"Select All"})]}),(null==S?void 0:S.length)===0&&(0,n.jsx)("div",{className:"flex w-full flex-row items-start justify-start py-3 pl-1",children:(0,n.jsx)("span",{className:"text-sm font-semibold leading-5",children:"No users found"})}),(0,n.jsx)("div",{className:"flex max-h-[200px] w-full flex-col overflow-y-auto py-2",children:null==S?void 0:S.map(e=>(0,n.jsxs)("div",{className:"flex w-full flex-row content-start items-start gap-3 py-3 pl-1",children:[(0,n.jsx)(h.X,{checked:e.checked,onCheckedChange:t=>{(0,_.L9)("slack_picker_modal_user_selected"),E(k.map(i=>i.id===e.id?{...i,checked:t}:i))}}),(0,n.jsxs)("div",{className:"flex w-full flex-row items-start justify-between pr-1",children:[(0,n.jsxs)("div",{className:"flex items-start gap-2",children:[(null==e?void 0:e.email)?(0,n.jsx)(f.qE,{size:"xs",uuid:e.id,children:e.name}):(0,n.jsx)(l.G,{icon:r.olY,className:"h-5 w-5 text-[#0F172A]"}),(0,n.jsx)("span",{className:"text-sm font-semibold leading-5 text-[#0F172A]",children:e.name})]}),(null==e?void 0:e.email)&&(0,n.jsx)("span",{className:"text-sm font-medium leading-5 text-[#94A3B8]",children:e.email})]})]},null==e?void 0:e.id))})]})]}),(0,n.jsxs)("div",{className:"flex w-full items-center justify-end gap-4 self-stretch rounded-b-xl bg-slate-50 px-6 py-4",children:[!t&&(0,n.jsx)(v.z,{variant:"secondary",onClick:()=>{(0,_.L9)("slack_picker_modal_back_clicked"),d()},children:"Back"}),(0,n.jsx)(v.z,{variant:"primary",onClick:()=>{(0,_.L9)("slack_picker_modal_continue_clicked"),c(k)},children:"Continue"})]})]})})},k=e=>{let{refetch:t,onBack:i}=e,[a,r]=(0,u.useState)(!1),l=()=>{r(!0),t(),setTimeout(()=>{r(!1)},3e3)};return(0,u.useEffect)(()=>{(0,_.L9)("slack_picker_modal_authorize_viewed")},[]),(0,n.jsxs)(p.cZ,{scrollable:!1,className:"flex h-[466px] w-[440px] flex-col items-start",children:[(0,n.jsxs)("div",{className:"flex w-full flex-1 flex-col items-start gap-6 p-6",children:[(0,n.jsxs)("div",{className:"flex w-full flex-col items-start gap-4",children:[(0,n.jsx)("img",{className:"h-8 w-8 rounded-full",src:w,alt:"Slack"}),(0,n.jsx)("span",{className:(0,j.cn)("self-stretch text-start text-lg font-semibold leading-7 text-slate-900",{"animate-pulse":a}),children:"Waiting for authorization..."})]}),(0,n.jsx)(g.O,{className:"h-6 w-full"}),(0,n.jsx)(g.O,{className:"h-6 w-20"}),(0,n.jsx)(g.O,{className:"h-6 w-full"}),(0,n.jsx)(g.O,{className:"h-6 w-full"})]}),(0,n.jsxs)("div",{className:"flex items-center justify-end gap-4 self-stretch rounded-b-xl bg-slate-50 px-6 py-4",children:[(0,n.jsx)(v.z,{variant:"secondary",onClick:i,children:"Back"}),(0,n.jsx)(v.z,{variant:"primary",onClick:()=>{(0,_.L9)("slack_picker_modal_authorize_complete_clicked"),l()},disabled:a,children:"I've authorized!"})]})]})},E=e=>{let{slackToken:t,refetchToken:i,hideBackButton:a,title:r,onBack:l,onContinue:s}=e,{data:o,isLoading:d}=c(t),{teammates:f}=(0,m.v9)(x.UR),v=(0,u.useMemo)(()=>{if(!o)return[];let e=new Set(f.map(e=>e.email)),t=o.filter(t=>t.email&&!e.has(t.email)).map(e=>{var t,i,n;return{id:e.id,name:null!==(n=e.name)&&void 0!==n?n:"".concat(null!==(t=e.first_name)&&void 0!==t?t:""," ").concat(null!==(i=e.last_name)&&void 0!==i?i:"").trim(),email:e.email,checked:!1}});return t.sort((e,t)=>e.name.localeCompare(t.name)),t},[o,f]);return t?(0,n.jsx)(N,{hideBackButton:a,title:r,initialOptions:v,placeholderValue:"Search Slack Teammates",onBack:l,onContinue:e=>{s(null==e?void 0:e.filter(e=>e.checked))},isLoading:d}):(0,n.jsx)(k,{refetch:i,onBack:l})}},28509:function(e,t,i){var n,a,r,l,s,o,d,c;i.d(t,{MG:function(){return w},$H:function(){return b},E5:function(){return p},Ro:function(){return v},bK:function(){return _},iS:function(){return m},is:function(){return f},qQ:function(){return C},ec:function(){return E},G3:function(){return z},A9:function(){return I},H5:function(){return S},hv:function(){return g},$Z:function(){return L},Bw:function(){return N},t$:function(){return x},E:function(){return y},DM:function(){return a},RH:function(){return r},zt:function(){return l},kT:function(){return k},_u:function(){return h},US:function(){return j}}),(s=n||(n={})).OFF="off",s.CONTROL="control",s.TREATMENT="treatment";let u={enabled:!1,experiment:!1,variant:n.OFF},m={name:"editor_image_swap_pan_q324",defaultValue:u},x={name:"image_swap_q324",defaultValue:u},f={name:"gro_3319_personalized_app_tab_selector",waitForRequirement:!0,defaultValue:u};(o=a||(a={})).COPY_LINK_BUTTON="copy_link_button",o.COPY_LINK_BUTTON_AND_SHARE_MODAL_DROPDOWN="copy_link_button_and_share_modal_dropdown";let v={name:"docs_1349_intentional_sharing_v2",defaultValue:u,variants:[{enabled:!1,experiment:!0,variant:n.CONTROL},{enabled:!0,experiment:!0,variant:"copy_link_button"},{enabled:!0,experiment:!0,variant:"copy_link_button_and_share_modal_dropdown"}]},h={name:"simplified_dashboard_activation",waitForRequirement:!0,defaultValue:u},p={name:"docs_embed_platform_picker_q4_2024_v2",defaultValue:u},g={name:"gro_sales_tax",defaultValue:u,variants:[{enabled:!1,experiment:!0,variant:n.CONTROL},{enabled:!0,experiment:!0,variant:n.TREATMENT}]},b={name:"docs_1310_unshared_spotlight_scribe_banner",defaultValue:u},j={name:"docs_1304_unshared_spotlight_share_link",defaultValue:u},_={name:"docs_1295_unshared_spotlight_workspace",defaultValue:u,waitForRequirement:!0},w={name:"base_invoicing",defaultValue:u};(d=r||(r={})).ADD_YOUR_TEAM="add_your_team",d.ADD_YOUR_COLLEAGUES="add_your_colleagues",d.INCLUDE_YOUR_TEAM="include_your_team";let y={name:"gro_3535_invite_teammate_collaborator_language",defaultValue:u,variants:[{enabled:!1,experiment:!0,variant:n.CONTROL},{enabled:!0,experiment:!0,variant:"add_your_team"},{enabled:!0,experiment:!0,variant:"add_your_colleagues"},{enabled:!0,experiment:!0,variant:"include_your_team"}]},N={name:"gro_signup_role_status",defaultValue:u,variants:[{enabled:!1,experiment:!0,variant:n.CONTROL},{enabled:!0,experiment:!0,variant:n.TREATMENT}],isAnonymousExperiment:!0},k={name:"gro_3537_pro_team_unused_seats_badge_v2",defaultValue:u,waitForRequirement:!0};(c=l||(l={})).CREATE_SCRIBE="create_scribe",c.START_CAPTURE="start_capture";let E={name:"gro_lower_friction_zslp",defaultValue:u,variants:[{enabled:!1,experiment:!0,variant:n.CONTROL},{enabled:!0,experiment:!0,variant:"create_scribe"},{enabled:!0,experiment:!0,variant:"start_capture"}]},S={name:"gro_reverse_pro_trial_v2",defaultValue:u,variants:[{enabled:!1,experiment:!0,variant:n.CONTROL},{enabled:!0,experiment:!0,variant:n.TREATMENT}]},C={name:"gro_3517_invite_revamp",defaultValue:u},L={name:"gro_show_0slp_after_ext_install",defaultValue:u,waitForRequirement:!0},z={name:"gro_more_guided_first_share",defaultValue:u},I={name:"gro_remove_savings_badge_checkout_flow",defaultValue:u}},46519:function(e,t,i){i.d(t,{Z:function(){return x}});var n=i(5194),a=i(22744),r=i(86677),l=i(27378),s=i(41127);let o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(e&&!(t<1))return Number(BigInt("0x".concat(e.replace(/-/g,"")))%BigInt(t))};var d=i(42171),c=i(81019),u=i(58647),m=i(59203),x=(e,t)=>{var i;let x=(0,l.useContext)(u.T),f="flag_".concat(e.name),v="flag_requirementMet_".concat(e.name),[h,p]=(0,s.Z)(v,e.waitForRequirement?t||"waiting":"met"),g=(0,n.useFlags)([e.name]),b=(0,r.useRouter)(),j=(0,a.Z)(e.uuidKey),[_,w]=(0,l.useState)(!1),y=()=>e.waitForRequirement?h||"waiting":"met",N=t=>{var i,n,a,r,l;let s;let d=null===(i=b.query)||void 0===i?void 0:i[e.name],u=(0,m.F)(d),x=(0,c.dj)(c.EN.getItem(f))||{},v={...d?{}:x,...u};d&&c.EN.setItem(f,JSON.stringify(u));let h=null===(n=g[e.name])||void 0===n?void 0:n.enabled;if(!t)return e.defaultValue;if(!h)return{...e.defaultValue,...v};if(e.isAnonymousExperiment){let t=o(j,e.variants.length);s=null!==(r=null===(a=e.variants)||void 0===a?void 0:a[t])&&void 0!==r?r:e.defaultValue}else s=(0,c.dj)(null===(l=g[e.name])||void 0===l?void 0:l.value)||e.defaultValue;return{...s,...v}};(0,l.useEffect)(()=>{var t;let i="met"===y(),n=N(i),a=(null===(t=x.flags[e.name])||void 0===t?void 0:t.didTrackExperiment)||!1;n.experiment&&!a&&i&&x.ready&&((0,d.zm)(e.name,n.variant),a=!0),x.setFlags(t=>({...t,[e.name]:{value:n,didTrackExperiment:a}})),x.ready&&!_&&w(!0)},[e,g,h,b.query,x.ready]);let k=y();return{...(null===(i=x.flags[e.name])||void 0===i?void 0:i.value)||e.defaultValue,ready:x.ready&&_&&"waiting"!==k,name:e.name,requirementMet:e=>{let t=e?"met":"not_met";t!==k&&p(t)}}}},18022:function(e,t,i){i.d(t,{Z:function(){return r}});var n=i(27378),a=i(66515),r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{storage:i,setKeyState:r}=(0,n.useContext)(a.Xz),l=function(){try{return void 0!==window.localStorage}catch(e){return!1}}(),s=l?window.localStorage.getItem(e):i[e],o=s?JSON.parse(s):t;return[o,t=>{try{let i=JSON.stringify(t instanceof Function?t(o):t);l?window.localStorage.setItem(e,i):r(e,i)}catch(e){console.error("Failed to set value",e)}}]}},27244:function(e,t,i){var n=i(27378),a=i(54062);t.Z=()=>{let[e,t]=(0,n.useState)(null),{data:i,refetch:r}=(0,a.ZP)();return(0,n.useEffect)(()=>{i&&(null==i?void 0:i.active_organization)&&(null==i?void 0:i.active_organization.slack_access_token)&&t(null==i?void 0:i.active_organization.slack_access_token)},[i]),{slackToken:e,refetch:r}}},22744:function(e,t,i){var n=i(18022),a=i(27378),r=i(70942);t.Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user-Uuid",[t,i]=(0,n.Z)(e);return(0,a.useEffect)(()=>{t&&""!==t&&"null"!==t&&"undefined"!==t||i((0,r.Z)())},[t,i]),t}},60940:function(e,t,i){i.d(t,{Ct:function(){return r},xV:function(){return h},aN:function(){return g}});var n=i(24246),a=i(22967);let r=e=>{let{purple:t,className:i,...r}=e;return(0,n.jsx)("span",{className:(0,a.cn)("mx-1 flex-shrink-0 rounded px-1 text-[9px] font-bold uppercase leading-[15px]",t?"bg-indigo-700 text-indigo-50":"bg-slate-700 text-slate-400",i),...r})};var l=i(94033),s=i(63688),o=i(79894),d=i.n(o),c=i(27378),u=i(76281),m=i(29721),x=i(65801);let f=(0,c.forwardRef)((e,t)=>{let{className:i,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("ctx-menu_card",i),...r})}),v={"bottom-start":"origin-top-left",bottom:"origin-top","bottom-end":"origin-top-right","top-start":"origin-bottom-left",top:"origin-bottom","top-end":"origin-bottom-right",right:"origin-right","right-end":"origin-bottom-left"},h=Object.assign(e=>{let{className:t,itemsClassName:i="",cardClassName:r="",button:l,children:o,dataTestID:d,variant:h="dark",zValue:p=1e6,placement:g="bottom-end",offset:b=8,toggleBtnAriaLabel:j="toggle menu",modifiers:_=[],onOpenChange:w,disabled:y=!1}=e,[N,k]=(0,c.useState)(),[E,S]=(0,c.useState)(),C=(0,u.D)(N,E,{placement:g,modifiers:[{name:"offset",options:{offset:b[0]?[b[0],b[1]]:[0,b]}},..._]});return(0,n.jsx)(s.v2,{as:"div",className:t,children:e=>{let{open:t}=e;return(0,c.useEffect)(()=>{null==w||w(t)},[t]),(0,c.useEffect)(()=>()=>null==w?void 0:w(!1),[]),(0,n.jsxs)(n.Fragment,{children:["object"==typeof l&&"type"in l&&(null==l?void 0:l.type)===x.Z?l:(0,n.jsx)(s.v2.Button,{ref:k,className:"inline-block bg-transparent p-0","data-testid":d,"aria-label":j,children:"function"==typeof l?l({open:t}):l}),!y&&(0,n.jsx)(m.Z,{children:(0,n.jsxs)(s.uT,{children:[t&&(0,n.jsx)("div",{className:"fixed inset-0"}),(0,n.jsx)(s.v2.Items,{ref:S,style:{zIndex:p,...C.styles.popper},className:(0,a.cn)(i,"ctx-menu--".concat(h),"focus-visible:outline-none"),...C.attributes.popper,children:(0,n.jsx)(s.uT.Child,{as:c.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,n.jsx)(f,{className:(0,a.cn)([v[g],r]),children:o})})})]})})]})}})},{Card:f,Divider:e=>{let{className:t,...i}=e;return(0,n.jsx)("div",{className:(0,a.cn)("ctx-menu_divider",t),...i})},Item:e=>{let{children:t,onClick:i,icon:r,selected:o,dataTestID:c,noHighlight:u,href:m,description:x,disabled:f,className:v}=e;return(0,n.jsx)(s.v2.Item,{disabled:f,children:e=>{let{active:s}=e,f=s||o;return m?(0,n.jsx)(d(),{href:m,onClick:i,legacyBehavior:!0,className:(0,a.cn)("h-12",{"!cursor-default !bg-transparent":!!u},v),children:(0,n.jsx)("a",{"data-testid":c,href:m,children:(0,n.jsxs)("div",{className:(0,a.cn)("ctx-menu_item flex flex-col !items-start",{"ctx-menu_item--active":f,"ctx-menu_item--icon":void 0!==r,"!cursor-default !bg-transparent":!!u,"!pb-px":!!x}),children:[(0,n.jsxs)("div",{children:[r&&(0,n.jsx)(l.G,{className:(0,a.cn)("ctx-menu_icon",{"ctx-menu_icon--active":f}),icon:r,fixedWidth:!0}),(0,n.jsx)("span",{children:t})]}),x&&(0,n.jsx)("div",{className:"mb-1 ml-7 mr-4 select-none text-xs font-normal leading-4 text-slate-400",children:x})]})})}):(0,n.jsx)("div",{onClick:i,"data-testid":c,children:(0,n.jsxs)("div",{className:(0,a.cn)("ctx-menu_item flex flex-col !items-start",{"ctx-menu_item--active":f,"ctx-menu_item--icon":void 0!==r,"!cursor-default !bg-transparent":!!u,"!pb-0":!!x},v),children:[(0,n.jsxs)("div",{children:[r&&(0,n.jsx)(l.G,{className:(0,a.cn)("ctx-menu_icon",{"ctx-menu_icon--active":f}),icon:r,fixedWidth:!0}),(0,n.jsx)("span",{children:t})]}),x&&(0,n.jsx)("div",{className:"mb-1 ml-7 mr-4 select-none text-xs font-normal leading-4 text-slate-400",children:x})]})})}})},Title:e=>{let{className:t,...i}=e;return(0,n.jsx)("span",{className:(0,a.cn)("ctx-menu_title",t),...i})}});var p=i(25971);let g=e=>{let{size:t="md",loading:i=!0}=e;return(0,n.jsx)(p.BounceLoader,{loading:i,size:function(e){if("number"==typeof e)return e;switch(e){case"sm":return 20;case"md":return 30;case"lg":return 40}}(t),color:"#818CF8"})}},33563:function(e,t,i){i.d(t,{z:function(){return r}});var n=i(54062);let a="https://scribe.how/ent-modal",r=e=>{var t,i,r,l,s,o;let{data:d}=(0,n.ZP)();if(!d)return a;let{first_name:c,last_name:u,email:m}=d,x=[];return x.push("enquiry_source=in-product&enquiry_source_b=".concat(e)),c&&c.trim().length>1&&x.push("FirstName=".concat(encodeURIComponent(c.trim()))),u&&u.trim().length>1&&x.push("LastName=".concat(encodeURIComponent(u.trim()))),m&&m.trim().length>1&&x.push("Email=".concat(encodeURIComponent(m.trim()))),(null==d?void 0:null===(r=d.active_organization)||void 0===r?void 0:null===(i=r.super_organization)||void 0===i?void 0:null===(t=i.plan)||void 0===t?void 0:t.name)&&x.push("Plan_Type__c=".concat(null==d?void 0:null===(o=d.active_organization)||void 0===o?void 0:null===(s=o.super_organization)||void 0===s?void 0:null===(l=s.plan)||void 0===l?void 0:l.name)),"".concat(a).concat(x.length>0?"?":"").concat(x.join("&"))}},85878:function(e,t,i){i.d(t,{N9:function(){return c},ic:function(){return o},oj:function(){return m},tq:function(){return l},uA:function(){return x}});var n=i(27378),a=i(561);let r=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent||navigator.vendor;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)},s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent||navigator.vendor;return/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/i.test(e.toLowerCase())},o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent||navigator.vendor;return l(e)||s(e)||a.G6&&r()},d=()=>{var e;return(null===(e=window)||void 0===e?void 0:e.innerWidth)<=768},c=()=>{let[e,t]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{t(d()),window.addEventListener("resize",()=>{t(d())})},[]),e},u=()=>{var e;return(null===(e=window)||void 0===e?void 0:e.innerWidth)<=640},m=()=>{let[e,t]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{t(u()),window.addEventListener("resize",()=>{t(u())})},[]),e},x=()=>{var e,t,n;let a=(null===(e=i.g.navigator)||void 0===e?void 0:e.userAgent)||"";return/android/i.test(a)?"android":/iPad|iPhone|iPod/.test(a)||(null===(t=i.g.navigator)||void 0===t?void 0:t.platform)==="MacIntel"&&(null===(n=i.g.navigator)||void 0===n?void 0:n.maxTouchPoints)>1?"ios":"other"}},60902:function(e,t,i){i.d(t,{N:function(){return g}});var n=i(24246),a=i(19686),r=i(54062),l=i(86677),s=i(27378),o=i(48407),d=i(33563),c=i(85878),u=i(42171),m=i(69876),x=i(43879),f=i(78554),v=i(33774),h=i(45040),p=i(69007);let g={0:null,1:null,2:null};t.Z=e=>{var t,i,b,j;let{invitingTeam:_}=e,w=(0,l.useRouter)(),[y,N]=(0,s.useState)([]),[k,E]=(0,s.useState)(g),[S,C]=(0,s.useState)(!1),[L,z]=(0,s.useState)([]),[I,T]=(0,s.useState)(null),{data:R}=(0,r.ZP)(),[F,O]=(0,s.useState)(null),P=null==F?void 0:F.permission_level,[A,Z]=(0,s.useState)("read"===P?"read":"write"),[M,D]=(0,s.useState)({}),[B,U]=(0,s.useState)(""),[G,q]=(0,s.useState)(0),V=(0,d.z)("view-only-feature"),[Y,Q]=(0,s.useState)(!1),{canChangeOrDeleteDocumentsOrFolders:W,isSystemAdmin:J}=(0,a.TR)(),K=W||J;(0,s.useEffect)(()=>{T(null==R?void 0:R.active_organization)},[R]),(0,s.useEffect)(()=>{O(_||I)},[I,_]),(0,s.useEffect)(()=>{Object.values(k).filter(e=>!!e).length>=3&&C(!0)},[k]);let H=()=>{B&&U(""),G&&q(0)},$=()=>(0,c.ic)()?((0,u.L9)("schedule_demo",{location:"invite_modal_permission_menu",mobile:!0}),w.push(V)):((0,u.L9)("show_enterprise_feature_gate_modal",{location:"invite_modal_permission_menu"}),Q(!0));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.Z,{discreteEmails:k,setDiscreteEmails:E,shouldShowPermissionDropdown:K,viewerLicensesEnabled:null==R?void 0:null===(i=R.active_organization)||void 0===i?void 0:null===(t=i.super_organization)||void 0===t?void 0:t.allow_viewer_licenses,userPermissionLevel:P,permissionLevels:M,onPermissionChange:(e,t)=>{D({...M,[e]:t})},onEnterpriseOptionClick:$,setEmailError:U}),!S&&(0,n.jsx)(o.z,{variant:"ghost",onClick:()=>{(0,u.L9)("clicked_add_more_multiple_discrete_email_invite",{location:"invite_modal"});let e=Object.keys(k).length;e<3?E({...k,[e]:null}):C(!0)},className:"mb-4",children:"+ Add More"}),S&&(0,n.jsx)(v.Z,{emails:y,placeholder:"Emails, comma separated",onChange:e=>{N(e),H()},className:K&&"!pr-20",onPermissionChange:e=>Z(e),permissionLevel:A,showPermissionDropdown:K,containerClassName:"my-2",errorEmails:L,viewerLicensesEnabled:null==R?void 0:null===(j=R.active_organization)||void 0===j?void 0:null===(b=j.super_organization)||void 0===b?void 0:b.allow_viewer_licenses,onEnterpriseOptionClick:$,userPermissionLevel:P}),(0,n.jsx)(x.Z,{title:"Youâ€™ve reached your weekly invite limit."===B?(0,n.jsxs)("span",{className:"whitespace-normal",children:[B," ",(0,n.jsx)("a",{href:"/billing",className:"underline",onClick:()=>(0,u.L9)("get_scribe_pro",{location:"reached_invite_limit"}),children:"Upgrade to Pro"})," ","to add more teammates."]}):B,variant:"error",className:"my-2 rounded-lg text-red-500"}),(0,n.jsx)(x.Z,{title:G>0?"The ".concat(1===G?"invite has":"invites have"," been sent successfully."):"",variant:"success"}),(0,n.jsxs)("div",{className:"mb-6 mt-6 flex justify-end",children:[(0,n.jsx)(p.MV,{inputtedEmails:y,setInputtedEmails:N,discreteEmails:k,setDiscreteEmails:E}),(0,n.jsx)(p.Ot,{setUserMessagedCount:q,discreteEmails:k,inputtedEmails:y,discretePermissionLevels:M,permissionLevel:A,selectedTeam:F,setEmailError:U,setErrorEmailsList:z,removeSentEmails:e=>{let t=y.filter(t=>!e.includes(t)),i={};Object.keys(k).forEach(t=>{e.includes(k[t])||(i[t]=k[t])}),N(t),E(i)},resetInviteState:e=>{q(e.length),N([]),E(g),U(""),z([])}})]}),Y&&(0,n.jsx)(f.ZP,{selectedFeature:(0,f.Fq)("licenses"),onScheduleDemo:e=>{(0,u.L9)("schedule_demo",{feature:e,location:"invite_modal_permission_menu"}),(0,m.YQ)(V)},onClose:()=>{(0,u.L9)("closed_enterprise_feature_gate_modal",{location:"invite_modal_permission_menu"}),Q(!1)}})]})}},69007:function(e,t,i){i.d(t,{OV:function(){return u},Xr:function(){return v},MV:function(){return j},Ot:function(){return E},af:function(){return C},PY:function(){return z},N4:function(){return I}});var n=i(24246),a=i(22107),r=i(94033),l=i(38579),s=i.n(l),o=i(83644),d=i(35693),c=i(10975);let u=e=>{let{team:t,remainingSeats:i,onInviteTeammates:l}=e,u=Array.isArray(t)?t:[];return(0,n.jsx)("div",{className:"my-4",children:(0,n.jsxs)(d.H,{total:5,size:"sm",className:"!px-0",children:[u.slice(0,5).map(e=>{let t=(0,c.GK)(e);return(0,n.jsx)(o.qE,{uuid:e.id,size:"sm",children:e.profile_picture_url?(0,n.jsx)(s(),{src:e.profile_picture_url,width:28,height:28,alt:t}):t},e.id)}),Array("number"==typeof i&&i>0?i:0).fill(0).map((e,t)=>(0,n.jsx)("div",{"aria-hidden":!0,className:"relative flex h-6 w-6 cursor-pointer items-center justify-center rounded-full border-[1px] border-dashed border-[#020617] border-opacity-25 bg-white",onClick:l,children:(0,n.jsx)(r.G,{icon:a.r8p,className:"h-2 w-2 text-[#020617] text-opacity-75"})},"remaining-seat-".concat(t.toString())))]})})};var m=i(79894),x=i.n(m),f=i(48407);let v=()=>(0,n.jsx)(x(),{href:"/workspace",children:(0,n.jsx)(f.z,{variant:"secondary",size:"small",className:"absolute left-4 top-4",children:"Back to Dashboard"})});var h=i(88918),p=i(27244),g=i(27378),b=i(42171);let j=e=>{let{buttonSize:t="large",inputtedEmails:i,setInputtedEmails:a,discreteEmails:r,setDiscreteEmails:l}=e,[s,o]=(0,g.useState)(!1),{slackToken:d,refetch:c}=(0,p.Z)(),u=e=>{let t={...r};Object.keys(t).map(i=>{t[i]||(t[i]=e.shift())}),l(t),a([...i,...e])},m=(0,g.useCallback)(()=>(0,n.jsx)(f.z,{onClick:()=>{if((0,b.L9)("clicked_invite_from_slack",{location:"invite_modal"}),!d){var e,t;(0,b.L9)("showed_slack_auth_page",{location:"invite_modal"}),null===(t=window)||void 0===t||null===(e=t.open("https://getscribe.how/slackapp","_blank"))||void 0===e||e.focus()}o(!0)},variant:"secondary",size:t,children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("img",{src:h.mC,alt:"Slack",className:"mr-2 h-5 w-5 rounded-full"}),(0,n.jsx)("span",{children:"Import from Slack"})]})}),[d]);return(0,n.jsxs)(n.Fragment,{children:[s&&(0,n.jsx)(h.LS,{slackToken:d,refetchToken:c,title:"Import Teammates from Slack",onContinue:e=>{u(e.map(e=>e.email)),o(!1)},onBack:()=>o(!1)}),m()]})};var _=i(56552),w=i(16125),y=i(1381),N=i(90340);let k=(e,t)=>{let i={};return Object.keys(t).map(n=>i[e[n]]=t[n]),i},E=e=>{let{copy:t="Invite Teammates",setUserMessagedCount:i,discreteEmails:a,inputtedEmails:r,setEmailError:l,discretePermissionLevels:s,permissionLevel:o,selectedTeam:d,location:u,onSuccess:m,setErrorEmailsList:x,removeSentEmails:v,resetInviteState:h}=e,[p,j]=(0,g.useState)(!1),{organizationId:E}=(0,w.v9)(y.Gx),S=(0,_.useQueryClient)(),C=()=>{E===d.id&&dispatch(getTeamInvites({id:d.id})),S.invalidateQueries(["invites",d.id]),null==m||m()},{mutate:L}=(0,_.useMutation)(N.m,{onSuccess:C}),{mutate:z}=(0,_.useMutation)(N.Z,{onSuccess:C}),I=(e,t)=>i=>{let n=e;if(i.hasErrors){if(n=!0,i.failedEmails.length>1){x(i.failedEmails.map(e=>e.email));let e=i.failedEmails.every(e=>"This user has already been invited to this organization."===e.reason),t=i.failedEmails.every(e=>"The user is already a member of the organization"===e.reason),n=i.failedEmails.every(e=>"The user is already a member of the organization"===e.reason||"This user has already been invited to this organization."===e.reason),a="";e&&(a="Users have already been invited to your team"),t&&(a="Users are already members of your team"),n&&!(e||t)&&(a="Users are already either invited or members of your team"),a?l("Error sending the invites. Reason: ".concat(a)):l(i.error)}else l(i.error);i.sentInvites&&v(i.sentInvites)}j(!1),n||h(t)},T=async e=>{(0,b.L9)("clicked_invite_teammates",{location:"purchase_confirmation_page"}),e.preventDefault(),i(0);let t=Object.values(a).filter(e=>!!e);if(!r.length&&!t.length)return l("Please enter one or more email addresses.");let n=[...r.map(e=>e.trim().toLowerCase()),...t.map(e=>e.trim().toLowerCase())];for(let e of n)if(!(0,c.Ju)(e)){l('"'.concat(e,'" is not a valid email address.'));return}j(!0);let m=k(a,s);L({organizationId:d.id,emails:t,permissionLevels:m,location:"purchase_confirmation_page"},{onSuccess:I(!1,n)}),z({organizationId:d.id,emails:r,permissionLevel:o,location:u},{onSuccess:I(!1,n)})};return(0,n.jsx)(f.z,{size:"large",variant:"primary",className:"ml-3",onClick:T,disabled:p,children:t})};var S=i(87013);let C=e=>{let{remainingSeats:t,filledSeats:i}=e;return i>=5?null:(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsxs)("p",{className:"text-sm text-slate-600",children:["You have ",(0,n.jsx)("b",{children:t})," open seats on your Team Plan"]}),(0,n.jsxs)("p",{className:"text-sm text-slate-600",children:[i,"/5"]})]}),(0,n.jsx)(S.E,{value:20*i,variant:"success",size:"lg"})]})};var L=i(17654);let z=e=>{let{superOrg:t}=e;return(0,n.jsxs)("h1",{className:"m-0 mb-4 text-3xl",children:["Congratulations â€”"," ",(0,n.jsx)("span",{className:"inline-block bg-gradient-to-r from-[#3c2edd] to-[#f45397] bg-clip-text text-transparent",children:(0,L.R2)(t)?"Congratulations â€” youâ€™re on Enterprise Base!":(0,c.cF)(t)?"Congratulations â€” youâ€™re on Scribe Business!":"youâ€™re a Scribe Pro!"})]})},I=()=>(0,n.jsx)(x(),{href:"/billing?tab=billing",children:(0,n.jsx)(f.z,{variant:"secondary",size:"small",className:"absolute right-4 top-4",children:"View Receipt"})})},68382:function(e,t,i){var n=i(24246),a=i(94033),r=i(27378),l=i(22967);let s={primary:"bg-gradient-to-b from-indigo-500 to-indigo-600 text-white ring-1 ring-indigo-600 ring-offset-indigo-700",secondary:"bg-white text-slate-700 ring-1 ring-slate-200",secondaryFlat:"bg-white text-indigo-600",outlineLight:"bg-white text-slate-700 ring-1 ring-slate-200",outlineDark:"hover:bg-opacity-15",outlineShadow:"bg-white text-slate-900",danger:"bg-gradient-to-b from-red-500 to-red-600 text-white ring-1 ring-red-600 ring-offset-red-700",social:"box-border bg-white text-slate-700 ring-1 ring-slate-200",noOutline:"text-slate-600 bg-white",link:"text-indigo-500 bg-white"},o={large:"h-12 text-base leading-6 rounded-md rounded min-w-[48px]",medium:"h-10 text-[13px] leading-5 rounded-[5px] rounded min-w-[40px]",small:"h-8 text-[13px] leading-4 rounded min-w-[32px]"},d={large:(e,t)=>e?t?"pr-4 pl-6 py-3":"p-3":"px-6 py-3",medium:(e,t)=>e?t?"pr-3 pl-4 py-2":"p-2":"px-4 py-2",small:(e,t)=>e?t?"px-3":"p-2":"px-3 py-2"},c={primary:"hover:ring-2 hover:ring-indigo-100 hover:ring-offset-1",secondary:"hover:text-slate-900 hover:ring-2 hover:ring-slate-100/50 hover:ring-offset-1 hover:ring-offset-slate-300",secondaryFlat:"hover:bg-indigo-100",outlineLight:"hover:text-slate-900 hover:ring-2 hover:ring-slate-100/50 hover:ring-offset-1 hover:ring-offset-slate-300",outlineDark:"bg-white bg-opacity-5 border border-blue-gray-300 text-white",outlineShadow:"hover:bg-indigo-100 drop-shadow-md",danger:"hover:ring-2 hover:ring-red-100 hover:ring-offset-1",social:"hover:text-slate-900 hover:ring-2 hover:ring-slate-100/50 hover:ring-offset-1 hover:ring-offset-slate-300",noOutline:"hover:text-slate-400",link:"hover:text-indigo-400 hover:text-opacity-25"},u={primary:"text-indigo-200",secondary:"text-indigo-400",secondaryFlat:"text-indigo-400",outlineLight:"text-gray-400",outlineDark:"text-gray-400",outlineShadow:"text-slate-400",danger:"text-red-300",social:"text-slate-500",noOutline:"",link:"text-slate-800"},m={large:24,medium:24,small:16},x=(0,r.forwardRef)((e,t)=>{let{variant:i="primary",size:x="large",icon:f,iconChildrenOnly:v,leftIcon:h,className:p,disabled:g,children:b,onClick:j,padding:_,...w}=e,y=v||void 0!==f,N=!v&&void 0!==b;return(0,n.jsxs)("button",{ref:t,className:(0,l.cn)("flex cursor-pointer flex-row items-center justify-center rounded font-sans font-semibold outline-0 focus:outline-1",{"flex-row-reverse":h},s[i],o[x],void 0!==_?_:d[x](y,N),g?"cursor-auto opacity-50":c[i],p),onClick:g?()=>{}:j,disabled:g,...w,children:[b&&(0,n.jsx)("div",{className:(0,l.cn)("flex flex-row items-center justify-center",{"mr-2":y&&!v&&!h,"mr-1.5":y&&!v&&"small"===x&&!h,"ml-2":y&&!v&&h,"ml-1.5":y&&!v&&"small"===x&&h,"drop-shadow-[0_1px_1px_rgba(0,0,0,0.25)]":"primary"===i}),children:b}),f&&(0,r.cloneElement)(f,{className:u[i],size:(null==f?void 0:f.type)===a.G?void 0:m[x]})]})});t.Z=x},65801:function(e,t,i){i.d(t,{Z:function(){return n.Z}});var n=i(68382)},60362:function(e,t,i){var n=i(24246);i(27378);var a=i(22967);t.Z=e=>{let{title:t,variant:i="success",className:r,...l}=e;return t?(0,n.jsx)("div",{className:(0,a.cn)(r,"flex flex-row items-center justify-center rounded p-2 text-xs font-medium",{"bg-green-50 text-green-900":"success"===i,"bg-slate-100 text-slate-500":"warning"===i,"bg-red-50 text-red-900":"error"===i||!i}),...l,children:t}):null}},43879:function(e,t,i){i.d(t,{Z:function(){return n.Z}});var n=i(60362)},47839:function(e,t,i){var n=i(24246),a=i(63688),r=i(27378),l=i(76281),s=i(29721),o=i(22967);let d=e=>{let{children:t,visible:i,isFocused:r,animated:l}=e;return i&&r?l?(0,n.jsx)(a.uT,{show:i&&r,enter:"transition-opacity duration-150",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:t}):t:null},c=(0,r.forwardRef)((e,t)=>{let{content:i,description:a,children:c,appearance:u,animated:m=!0,fallbackAppearance:x,variant:f,focused:v,className:h,indicatorClassName:p,carotClassName:g,childrenClassName:b,containerClassName:j,wrapperClassName:_,visible:w,offset:y,overrideFocused:N,...k}=e,[E,S]=(0,r.useState)(v),[C,L]=(0,r.useState)(null),[z,I]=(0,r.useState)(null),[T,R]=(0,r.useState)(null),{styles:F,attributes:O,state:P}=(0,l.D)(C,z,{placement:u||"bottom-start",strategy:"fixed",modifiers:[{name:"offset",options:{offset:y}},{name:"flip",options:{fallbackPlacements:x}},{name:"arrow",options:{element:T}}]}),A=(e,t)=>{let i={bubble:"flex items-center rounded-2xl backdrop-blur-2xl text-sm leading-5 font-semibold ",indicator:""};if(e)switch(t){case"primary":i.bubble+="text-white ",e.includes("top")?(i.bubble+="bg-gradient-to-t from-indigo-800 to-indigo-900 ",i.indicator+="bg-indigo-800 "):e.includes("right")?(i.bubble+="bg-gradient-to-l from-indigo-800 to-indigo-900 ",i.indicator+="bg-indigo-900 "):e.includes("bottom")?(i.bubble+="bg-gradient-to-t from-indigo-800 to-indigo-900 ",i.indicator+="bg-indigo-900 "):e.includes("left")&&(i.bubble+="bg-gradient-to-r from-indigo-800 to-indigo-900 ",i.indicator+="bg-indigo-900 ");case"light":i.bubble+="bg-white text-black ",i.indicator+="bg-white ";break;case"dark":i.bubble+="bg-blueGray-700 text-white",i.indicator+="bg-blueGray-700 ";break;case"rounded-slate-700":i.bubble+="flex items-center bg-slate-700 shadow-[0_3px_10px_-2px_rgba(15,23,42,0.1)] rounded-lg text-sm leading-5 text-slate-200 -mb-3";break;case"small-dark":i.bubble+="flex items-center bg-slate-800 rounded-md text-xs text-white font-normal -mb-3";break;case"small-dark-with-indicator":i.bubble+="flex items-center bg-slate-800 rounded-md text-xs text-white font-normal -mb-3",i.indicator+="bg-slate-800 ";break;case"rounded-dark":i.bubble="flex items-center border border-slate-800 bg-gradient-to-b from-[#222E41] to-[#1D283A] shadow-[0_3px_10px_-2px_rgba(15,23,42,0.1)] rounded-r-lg text-sm leading-5 text-slate-200 -ml-[20px]",i.indicator=""}return i};return(0,n.jsxs)("div",{ref:t,className:j,onMouseEnter:()=>!v&&S(!0),onMouseLeave:()=>!v&&S(!1),onClick:()=>!v&&S(!1),onFocus:()=>v&&S(!0),onBlur:()=>v&&S(!1),children:[i&&(0,n.jsx)(s.Z,{children:(0,n.jsx)(d,{animated:m,visible:w,isFocused:N||E,children:(0,n.jsxs)("div",{className:(0,o.cn)(A(null==P?void 0:P.placement,f).bubble,_),ref:I,style:{...F.popper,zIndex:1e6},...O.popper,children:[(0,n.jsx)("div",{ref:R,className:(0,o.cn)("bg-opacity-0",(e=>{if(e){let t=" absolute h-5 w-5 ";return e.includes("top")?t+="-bottom-2":e.includes("right")?t+="-left-2":e.includes("bottom")?t+="-top-2":e.includes("left")&&(t+="-right-2"),t}})(null==P?void 0:P.placement),p),style:F.arrow,children:(0,n.jsx)("div",{className:(0,o.cn)("rotate h-4 w-4 rotate-45 transform rounded-[2px]",A(null==P?void 0:P.placement,f).indicator,g)})}),(0,n.jsx)("div",{className:(0,o.cn)("z-20 flex items-center justify-center",h),children:i})]})})}),(0,n.jsx)("div",{ref:L,className:b,children:c})]})});c.defaultProps={appearance:"right",focused:!1,visible:!0,variant:"primary",offset:[0,12],fallbackAppearance:["auto"]},t.Z=c},21785:function(e,t,i){i.d(t,{Z:function(){return n.Z}});var n=i(47839)},78554:function(e,t,i){i.d(t,{Fq:function(){return h}});var n=i(24246),a=i(21947),r=i(83469),l=i(94033),s=i(27378),o=i(48407),d=i(43044),c=i(1581),u=i(22967),m=i(12494),x=i(41700),f=i(93939);let v=[{id:"1",title:"Multiple Teams",subtitle:"Manage Multiple Teams",description:"Your company is unique, so we offer multi-team management to ensure your workspace reflects that. Stay organized by setting up teams for your different departments, clients or business units.",icon:a.FVb,color:"indigo",image:"https://colony-labs-public.s3.us-east-2.amazonaws.com/images/features/manage_mulitple_teams.png",featureType:"multiple-teams"},{id:"2",title:"Smart Auto Redaction",subtitle:"Redact Sensitive Information",description:"Enforce company-wide redaction rules to ensure your team protects sensitive employee, customer and personal data in your Scribes.",icon:a.sy4,color:"teal",image:"https://colony-labs-public.s3.us-east-2.amazonaws.com/images/features/smart_auto_redaction.png",featureType:"redaction"},{id:"3",title:"Authenticated Viewers",subtitle:"Set View-Only Permissions",description:"Provide all employees with secure access to Scribe within the flow of their work, while ensuring that only authorized individuals can create Scribes.",icon:a.uI9,color:"red",image:"https://colony-labs-public.s3.us-east-2.amazonaws.com/images/features/viewer_licenses.png",featureType:"licenses"},{id:"4",title:"Advanced Security",subtitle:"Ensure Highest Level of Security",description:"Take advantage of our most advanced security features, including single-sign-on and role-based access control, to support HIPAA and GDPR privacy policies.",icon:a.ip0,color:"amber",image:"https://colony-labs-public.s3.us-east-2.amazonaws.com/images/features/advanced_security.png",featureType:"security"},{id:"5",title:"Document Governance",subtitle:"Verify Scribes Before Sharing",description:"Ensure only approved Scribes are shared with your employees and customers with streamlined review and verification processes.",icon:a.Y$T,color:"purple",image:"https://colony-labs-public.s3.us-east-2.amazonaws.com/images/features/document_governance.png",featureType:"document-governance"}],h=e=>v.find(t=>t.featureType===e);t.ZP=e=>{let{onClose:t,onScheduleDemo:i,className:a,selectedFeature:h,onSelectedFeature:p}=e,[g,b]=(0,s.useState)(h||v[0]);return(0,s.useEffect)(()=>{(0,f.E)(v.map(e=>e.image))},[]),(0,s.useEffect)(()=>{null==p||p(g)},[p,g]),(0,n.jsx)(d.Vq,{open:!0,onOpenChange:t,children:(0,n.jsxs)(d.cZ,{className:"w-[744px] max-w-[744px]",children:[(0,n.jsxs)("div",{className:"flex bg-slate-50",children:[(0,n.jsxs)("div",{className:"flex flex-col space-y-2.5 px-5 py-2.5",children:[(0,n.jsxs)("div",{className:"mt-1.5 flex items-center",children:[(0,n.jsx)("h1",{className:"my-0 text-left text-lg font-bold text-slate-900",children:"Enterprise Features"}),(0,n.jsx)(c.pn,{children:(0,n.jsxs)(c.u,{children:[(0,n.jsx)(c.aJ,{children:(0,n.jsx)("div",{className:"ml-2 p-1",children:(0,n.jsx)(l.G,{icon:r.sqG,className:"text-slate-500"})})}),(0,n.jsx)(c._v,{side:"right",variant:"compact",children:"All Pro features included in Enterprise"})]})})]}),v.map(e=>(0,n.jsx)(m.Z,{className:"!px-3",selected:(null==g?void 0:g.id)===e.id,onClick:()=>b(e),title:e.title,icon:e.icon,color:e.color},e.id))]}),g&&(0,n.jsx)(x.Z,{isEnterprise:!0,subtitle:g.subtitle,id:g.id,image:null==g?void 0:g.image,description:g.description,title:g.title,color:g.color},g.id)]}),(0,n.jsxs)("div",{className:(0,u.cn)("box-border flex items-center justify-between border-t border-slate-200 px-5 py-4",a),children:[(0,n.jsx)(o.z,{variant:"secondary",onClick:t,children:"Cancel"}),(0,n.jsx)(o.z,{onClick:()=>i(g.title),children:"Schedule Demo"})]})]})})}},84424:function(e,t,i){var n=i(24246),a=i(83469),r=i(94033),l=i(22967);let s={light:{background:"linear-gradient(90deg, #DBEAFE 0%, #EBF3FF 100%)"},dark:{background:"linear-gradient(270deg, rgba(96, 165, 250, 0.4) 0%, rgba(37, 99, 235, 0.4) 100%)"}},o={light:{background:"linear-gradient(271.13deg, #3B82F6 9.64%, #1D4ED8 94.34%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},dark:{background:"linear-gradient(90deg, #DBEAFE 4.55%, #BFDBFE 99.09%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}};t.Z=e=>{let{className:t,onClick:i,variant:d="light",hideIcon:c=!1}=e;return(0,n.jsxs)("button",{onClick:i,disabled:!i,style:s[d],className:(0,l.cn)("flex h-[15px] w-auto items-center rounded px-1 py-0.5",t),children:[(0,n.jsx)("span",{style:o[d],className:"bg-clip-text text-[9px] font-bold leading-[11px]",children:"ENT"}),!c&&(0,n.jsx)(r.G,{"data-testid":"ent-tag-icon",icon:a.gju,className:(0,l.cn)("ml-[3px] text-[8px] text-blue-500",{"!text-blue-400":"dark"===d})})]})}},33774:function(e,t,i){i.d(t,{Z:function(){return p}});var n=i(24246);i(26240);var a=i(27378),r=i(19540),l=i(22967),s=i(10975),o=i(42171),d=i(83469),c=i(94033);let u=["from-white","from-pink-500","from-indigo-500","from-blue-500","from-cyan-500","from-emerald-500","from-yellow-500"],m=["to-white","to-pink-500","to-indigo-500","to-blue-500","to-cyan-500","to-emerald-500","to-yellow-500"],x=["bg-gradient-to-t","bg-gradient-to-tr","bg-gradient-to-r","bg-gradient-to-br","bg-gradient-to-b","bg-gradient-to-bl","bg-gradient-to-l","bg-gradient-to-tl"],f=e=>e[Math.floor(Math.random()*e.length)];var v=e=>{let{email:t,onRemove:i,invalid:r,className:s}=e,o=(0,a.useMemo)(()=>"".concat(f(x)," ").concat(f(u)," ").concat(f(m)),[]);return(0,n.jsxs)("div",{className:(0,l.cn)("flex h-[29px] w-fit items-center rounded-l-full rounded-r-full bg-slate-100 px-2 py-[6px]",{"border border-red-500 bg-red-100":r},s),children:[(0,n.jsx)("div",{className:(0,l.cn)("h-4 w-4 rounded-full",o)}),(0,n.jsx)("div",{className:"mx-2 max-w-[320px] truncate align-middle text-xs font-medium leading-4 text-slate-600",children:t}),(0,n.jsx)("button",{onClick:i,className:(0,l.cn)("flex h-4 w-4 cursor-pointer items-center justify-center rounded-full bg-slate-200",{"bg-red-500":r}),children:(0,n.jsx)(c.G,{className:(0,l.cn)("text-sm",{"text-white":r,"text-slate-500":!r}),icon:d.g82})})]})},h=i(7367),p=e=>{let{containerClassName:t,label:i,onChange:d,emails:c,permissionLevel:u="write",showPermissionDropdown:m=!1,onPermissionChange:x,errorEmails:f,viewerLicensesEnabled:p,className:g,onEnterpriseOptionClick:b,userPermissionLevel:j,permissionLevelClassName:_,...w}=e,[y,N]=(0,a.useState)(!1),k=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(k){var e,t,i,n;null==k||null===(n=k.current)||void 0===n||null===(i=n.emailInputRef)||void 0===i||null===(t=i.current)||void 0===t||null===(e=t.focus)||void 0===e||e.call(t)}},[k]),(0,n.jsxs)("div",{className:(0,l.cn)("relative flex w-full",t),children:[(0,n.jsxs)("div",{className:"relative flex w-full flex-row",onFocus:()=>N(!0),onBlur:()=>N(!1),children:[(0,n.jsx)("div",{className:"flex w-full flex-row",children:(0,n.jsx)(r.Qg,{ref:k,className:(0,l.cn)("!focus:border-indigo-500 multi-email-input max-h-[240px] w-auto overflow-y-auto !rounded-lg !px-3 !py-2 focus-within:!border-indigo-500",g),emails:c,validateEmail:e=>!(!e||e.includes(" "))&&"undefined"!==e.trim(),onChange:e=>d(e),getLabel:(e,t,i)=>{let a=!!(null==f?void 0:f.find(t=>t===e));return(0,n.jsx)(v,{email:e,className:"m-1",invalid:!(0,s.Ju)(e)||a,onRemove:()=>i(t)},e+t)},placeholder:w.placeholder})}),m&&(0,n.jsx)("div",{className:(0,l.cn)("absolute right-2 flex h-full cursor-pointer flex-row items-center justify-between",_),children:(0,n.jsx)(h.Z,{viewerLicensesEnabled:p,userPermissionLevel:j,permission:u,onPermissionChange:e=>{(0,o.L9)("changed_invite_permission",{permission:e}),x(e)},onEnterpriseOptionClick:b})})]}),i&&(0,n.jsx)("label",{className:(0,l.cn)("absolute -top-2 left-3 bg-white px-1.5 text-xs font-medium text-slate-400 transition-colors",{"!text-indigo-500":y}),htmlFor:w.name,children:i})]})}},45040:function(e,t,i){var n=i(24246),a=i(27378),r=i(963),l=i(42171),s=i(7367);t.Z=e=>{let{discreteEmails:t,setDiscreteEmails:i,shouldShowPermissionDropdown:o=!1,viewerLicensesEnabled:d,userPermissionLevel:c,permissionLevels:u,onPermissionChange:m,onEnterpriseOptionClick:x,setEmailError:f}=e,[v,h]=(0,a.useState)(!0),p=e=>{let i=Object.values(t).filter(t=>t===e).length>1;return i?f("That email is already in the invite list"):f(""),i},g=e=>n=>{var a;h(!1);let r=n.target.value;i({...t,[e]:r}),m&&m(e,null!==(a=u[e])&&void 0!==a?a:"write")},b=e=>{if(!e)return!1;let t=p(e);return e.includes(" ")||"undefined"===e.trim()||t};return(0,n.jsx)(n.Fragment,{children:Object.keys(t).map(e=>{var i,a;return(0,n.jsxs)("div",{className:"relative mb-4",children:[(0,n.jsx)(r.o,{type:"email",id:"email",autoFocus:"0"===e&&v,className:"m-0 h-12 w-full rounded-lg outline-[#22242626]",fullWidth:!0,value:null!==(i=t[e])&&void 0!==i?i:"",placeholder:"Enter email","aria-label":"invite-email",onChange:g(e),error:b(t[e])}),o&&(0,n.jsx)("div",{className:"absolute right-2 top-0 flex h-full cursor-pointer flex-row items-center justify-between",children:(0,n.jsx)(s.Z,{viewerLicensesEnabled:d,userPermissionLevel:c,permission:null!==(a=u[e])&&void 0!==a?a:"write",onPermissionChange:t=>{(0,l.L9)("changed_invite_permission",{permission:t}),m(e,t)},onEnterpriseOptionClick:x})})]},e)})})}},73188:function(e,t,i){i.d(t,{P:function(){return n},R:function(){return a}});let n=["admin","write","read"],a={admin:{label:"Team Admin",description:"Manages team, users and docs",unsupported:[]},write:{label:"Creator",description:"Creates, edits and deletes docs",unsupported:["admin"]},read:{label:"Viewer",description:"View-only permissions",unsupported:["admin","write"]}}},7367:function(e,t,i){var n=i(24246),a=i(22107),r=i(94033);i(27378);var l=i(48407),s=i(83449),o=i(84424),d=i(73188);t.Z=e=>{let{onPermissionChange:t,permission:i,viewerLicensesEnabled:c,onEnterpriseOptionClick:u,userPermissionLevel:m,theme:x="light"}=e;return(0,n.jsxs)(s.h_,{children:[(0,n.jsx)(s.$F,{asChild:!0,children:"light"===x?(0,n.jsxs)("button",{"aria-label":"Permission menu","data-testid":"invite-referral-modal-permission-menu",className:"flex cursor-pointer items-center justify-center bg-transparent px-2",children:[(0,n.jsx)("span",{className:"mr-2 select-none text-sm leading-4 text-slate-600",children:d.R[i].label}),(0,n.jsx)(r.G,{className:"text-xxs transition-all duration-200 ease-in-out first-letter:text-slate-600",icon:a.ptq})]}):(0,n.jsx)(l.z,{variant:"secondary",size:"small",className:"flex w-full justify-between [&_svg]:text-slate-500",darkMode:!0,icon:a.ptq,iconPosition:"right",children:d.R[i].label})}),(0,n.jsx)(s.AW,{className:"z-[100000] w-auto min-w-[27px]",children:(0,n.jsx)(s._x,{value:i,onValueChange:e=>c||"read"!==e?t(e):null==u?void 0:u(),children:d.P.map(e=>{var t,i,a;return(null===d.R||void 0===d.R?void 0:null===(a=d.R[m])||void 0===a?void 0:null===(i=a.unsupported)||void 0===i?void 0:null===(t=i.includes)||void 0===t?void 0:t.call(i,e))?null:(0,n.jsx)(s.qB,{value:e,subtext:d.R[e].description,children:(0,n.jsxs)("span",{className:"flex w-full flex-auto flex-nowrap",children:[d.R[e].label,!c&&"read"===e&&(0,n.jsx)(o.Z,{variant:"dark",className:"ml-1.5"})]})})})})})]})}},70086:function(e,t,i){i.d(t,{Z:function(){return $}});var n=i(24246);i(26240);var a=i(41255),r=i(28509),l=i(46519),s=i(83469),o=i(94033),d=i(23599),c=i(92366),u=i(88918),m=i(19686),x=i(92923),f=i(36012),v=i.n(f),h=i(54062),p=i(56552),g=i(80140),b=i(53826),j=function(){let{enabled:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{toast:t}=(0,b.pm)(),{data:i}=(0,p.useQuery)(["affiliate_link"],async()=>(await g.Z.getAffiliateLink()).affiliate_link,{onError:()=>{t({title:"Failed to fetch affiliate link",description:"Please try again later",variant:"error"})},enabled:e});return{affiliateLink:i}},_=i(27244),w=i(86677),y=i(27378),N=i(16125),k=i(3267),E=i(1381),S=i(48407),C=i(43044),L=i(12320),z=i(22967),I=i(33563),T=i(85878),R=i(69876),F=i(60902),O=i(78554),P=i(86133),A=i(10975),Z=i(42171),M=i(43879),D=i(33774),B=i(45040),U=i(67787),G=i(1581);let q=e=>{let{modalType:t}=e;return(0,n.jsx)("div",{className:"flex min-h-[100px] w-full items-center justify-center",children:(0,n.jsxs)("p",{className:"text-sm text-slate-600",children:["You haven't sent any ",t,"s yet."]})})},V=()=>(0,n.jsxs)("div",{className:"mb-2 flex h-12 w-full animate-pulse flex-row",children:[(0,n.jsx)("div",{className:"flex w-11/12 items-center border-b border-slate-200 pl-4",children:(0,n.jsx)("div",{className:"h-4 w-1/2 min-w-0 rounded bg-slate-200"})}),(0,n.jsxs)("div",{className:"justify-left flex w-auto flex-row items-center border-b border-slate-200 pr-4",children:[(0,n.jsx)("div",{className:"mr-3 flex h-4 w-4 rounded-full bg-slate-200"}),(0,n.jsx)("div",{className:"flex h-4 w-4 rounded-full bg-slate-200"})]})]}),Y=()=>(0,n.jsxs)("div",{className:"mt-2 flex max-h-[400px] flex-col overflow-y-scroll pb-4",children:[(0,n.jsx)(V,{}),(0,n.jsx)(V,{}),(0,n.jsx)(V,{}),(0,n.jsx)(V,{})]}),Q=()=>(0,n.jsxs)("div",{className:"mb-2 flex h-12 w-full animate-pulse flex-row",children:[(0,n.jsxs)("div",{className:"flex w-full flex-col justify-center border-b border-slate-200 pl-4",children:[(0,n.jsx)("div",{className:"h-4 w-1/2 min-w-0 rounded bg-slate-200"}),(0,n.jsx)("div",{className:"mt-1 h-2 w-1/3 min-w-0 rounded bg-slate-200"})]}),(0,n.jsxs)("div",{className:"flex w-auto flex-row items-center border-b border-slate-200 pr-4",children:[(0,n.jsx)("div",{className:"mr-2 flex h-4 w-4 rounded-full bg-slate-200"}),(0,n.jsx)("div",{className:"h-4 w-20 min-w-0 rounded bg-slate-200"})]})]}),W=()=>(0,n.jsxs)("div",{className:"mt-2 flex max-h-[400px] flex-col overflow-y-auto pb-4",children:[(0,n.jsx)(Q,{}),(0,n.jsx)(Q,{}),(0,n.jsx)(Q,{}),(0,n.jsx)(Q,{})]});var J=e=>{let{deleteInvites:t,loadingTeamInvites:i,modalType:a,userInvites:r}=e,l=(0,N.I0)(),{referrals:d,isLoading:c}=(0,N.v9)(U.bk),{data:u}=(0,h.ZP)(),{isSystemAdmin:x}=(0,m.TR)(),[f,v]=(0,y.useState)([]);return(0,y.useEffect)(()=>{v([...d].sort((e,t)=>e.status>t.status?-1:1))},[d]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex flex-row items-center",children:[(0,n.jsx)("div",{className:(0,z.cn)("flex w-full rounded-tl-lg bg-indigo-50 pl-3",{"pl-6":"referral"===a}),children:(0,n.jsx)("p",{className:"my-2 text-left text-sm font-semibold text-indigo-500",children:"Emails"})}),(0,n.jsx)("div",{className:(0,z.cn)("flex rounded-tr-lg bg-indigo-50 px-3",{"px-6":"referral"===a}),children:(0,n.jsx)("p",{className:"my-2 text-sm font-semibold text-indigo-500",children:"invite"===a?"Actions":"Status"})})]}),(0,n.jsx)("div",{className:"flex max-h-[400px] flex-col overflow-y-auto pb-4",children:(()=>{if("referral"===a){if(c)return(0,n.jsx)(W,{});if(f&&0===f.length)return(0,n.jsx)(q,{modalType:"referral"});if(f&&f.length>0)return f.map(e=>{let t=new Date(e.created).toLocaleString().split(",")[0];return(0,n.jsxs)("div",{className:"flex h-12 items-center",children:[(0,n.jsxs)("div",{className:"flex h-12 w-full flex-col justify-center border-b border-slate-200 pl-4",children:[(0,n.jsx)("p",{className:"my-0 text-left text-sm",children:e.invited_user_email}),(0,n.jsxs)("p",{className:"mb-0 mt-1 text-left text-[10px] text-slate-500",children:["Referred on ",t]})]}),(0,n.jsxs)("div",{className:"justify-left flex h-12 flex-row items-center border-b border-slate-200 pr-4",children:[(0,n.jsx)("div",{className:"h-2 w-2 rounded-full ".concat("open"===e.status?"bg-yellow-300":"bg-emerald-500"," mr-2")}),(0,n.jsx)("p",{className:"text-left text-sm",children:"open"===e.status?"Pending":"Completed"})]})]},e.invited_user_email)})}else{if(i)return(0,n.jsx)(Y,{});if(r&&0===r.length)return(0,n.jsx)(q,{modalType:"invite"});if(r&&r.length>0)return r.map(e=>{let i=(null==e?void 0:e.can_resend)||x;return(0,n.jsxs)("div",{className:"flex h-12 items-center",children:[(0,n.jsx)("div",{className:"flex h-full w-full border-b border-slate-200 pl-4",children:(0,n.jsx)("div",{className:"flex",title:e.invited_user_email,children:(0,n.jsx)("p",{className:"line-clamp-1 text-left text-sm",children:e.invited_user_email})})}),(0,n.jsxs)("div",{className:"flex h-full flex-row items-center justify-end border-b border-slate-200 pl-4 pr-4",children:[(0,n.jsx)(G.pn,{children:(0,n.jsxs)(G.u,{children:[(0,n.jsx)(G.aJ,{children:(0,n.jsx)("button",{className:"flex !cursor-pointer items-center justify-center bg-transparent p-0.5",onClick:()=>{if(i){var t;(0,Z.L9)("resend_invite",{invited_email:null==e?void 0:e.invited_user_email,team_id:null==u?void 0:null===(t=u.active_organization)||void 0===t?void 0:t.id}),l((0,E.c_)({inviteCode:e.invite_code}))}},children:(0,n.jsx)(o.G,{className:(0,z.cn)("h-[14px] w-[14px] text-slate-500",!i&&!x&&"cursor-default text-slate-300"),icon:s.mHK})})}),(0,n.jsx)(G._v,{variant:"compact",children:i?"Resend Invitation":"Please wait 24 hours to resend invitation again"})]})}),(0,n.jsx)("div",{className:"mx-1 flex"}),(0,n.jsx)(G.pn,{children:(0,n.jsxs)(G.u,{children:[(0,n.jsx)(G.aJ,{children:(0,n.jsx)("button",{className:"flex !cursor-pointer items-center justify-center bg-transparent p-0.5",onClick:()=>{var i;(0,Z.L9)("invite_deleted",{deleted_email:null==e?void 0:e.invited_user_email,team_id:null==u?void 0:null===(i=u.active_organization)||void 0===i?void 0:i.id,location:"invite_modal"}),t([e.invite_code])},children:(0,n.jsx)(o.G,{className:"h-4 w-4 text-slate-500",icon:s.NBC})})}),(0,n.jsx)(G._v,{variant:"compact",children:"Remove"})]})})]})]},e.invited_user_email)})}})()})]})},K=i(90340),H=e=>{var t,i,a,f,g;let b;let{modalType:U,visible:G,onClose:q,onSuccess:V,invitingTeam:Y,location:Q}=e,W=(0,N.I0)(),[H,$]=(0,y.useState)("addUsers"),[X,ee]=(0,y.useState)([]),[et,ei]=(0,y.useState)(F.N),[en,ea]=(0,y.useState)({}),[er,el]=(0,y.useState)(!1),[es,eo]=(0,y.useState)([]),[ed,ec]=(0,y.useState)(""),[eu,em]=(0,y.useState)(0),[ex,ef]=(0,y.useState)(!1),{data:ev}=(0,h.ZP)(),eh=null==ev?void 0:ev.active_organization,{affiliateLink:ep}=j({enabled:"referral"===U}),{teams:eg,organizationId:eb}=(0,N.v9)(E.Gx),[ej,e_]=(0,y.useState)(null),[ew,ey]=(0,y.useState)(null),{isAdmin:eN,canChangeOrDeleteDocumentsOrFolders:ek,canInviteTeammates:eE,isSystemAdmin:eS}=(0,m.TR)(),eC=eS?"admin":null==ew?void 0:ew.permission_level,[eL,ez]=(0,y.useState)("read"===eC?"read":"write"),eI=(0,A.Og)(null==ev?void 0:null===(t=ev.active_organization)||void 0===t?void 0:t.super_organization),eT="invite"===U&&(ek||eS),[eR,eF]=(0,y.useState)(!1),eO=(0,w.useRouter)(),eP=(0,I.z)("view-only-feature"),[eA,eZ]=(0,y.useState)(!1),{slackToken:eM,refetch:eD}=(0,_.Z)(),{enabled:eB,ready:eU,variant:eG}=(0,l.Z)(r.E),eq=(0,p.useQueryClient)();(0,y.useEffect)(()=>{Object.values(et).filter(e=>!!e).length>=3&&el(!0)},[et]);let eV=()=>{eb===ew.id&&W((0,E.ml)({id:ew.id})),eq.invalidateQueries(["invites",ew.id]),null==V||V()},{data:eY=[],isLoading:eQ}=(0,p.useQuery)(["invites",null==ew?void 0:ew.id],()=>k.Z.getTeamInvites(ew.id),{enabled:!!ew&&"invite"===U}),{mutate:eW}=(0,p.useMutation)(K.m,{onSuccess:eV}),{mutate:eJ}=(0,p.useMutation)(k.Z.deleteInvites,{onSuccess:eV}),eK=!eN&&eE?eY.filter(e=>"admin"!==e.permission_level):eY;(0,y.useEffect)(()=>{"invite"===U&&ey(Y||eh)},[]);let eH=e=>{em(e.length),ee([]),ei(F.N),ec(""),eo([])},e$=e=>{let t=X.filter(t=>!e.includes(t)),i={};Object.keys(et).forEach(t=>{e.includes(et[t])||(i[t]=et[t])}),ee(t),ei(i)},eX=(e,t)=>i=>{let n=e;if(i.hasErrors){if(n=!0,i.failedEmails.length>1){eo(i.failedEmails.map(e=>e.email));let e=i.failedEmails.every(e=>"This user has already been invited to this organization."===e.reason),t=i.failedEmails.every(e=>"The user is already a member of the organization"===e.reason),n=i.failedEmails.every(e=>"The user is already a member of the organization"===e.reason||"This user has already been invited to this organization."===e.reason),a="";e&&(a="Users have already been invited to your team"),t&&(a="Users are already members of your team"),n&&!(e||t)&&(a="Users are already either invited or members of your team"),a?ec("Error sending the ".concat(U,"s. Reason: ").concat(a)):ec(i.error)}else ec(i.error);i.sentInvites&&e$(i.sentInvites)}ef(!1),n||eH(t)},e0=async e=>{e.preventDefault();let t=!1;em(0);let i=Object.values(et).filter(e=>!!e);if(!X.length&&!i.length)return ec("Please enter one or more email addresses.");let n=[...X.map(e=>e.trim().toLowerCase()),...i.map(e=>e.trim().toLowerCase())];for(let e of n)if(!(0,A.Ju)(e)){ec('"'.concat(e,'" is not a valid email address.'));return}if(ef(!0),"referral"===U){let e=[],i=[];for(let a of n){let n=W((0,P.k9)({email:a}));(!await n.then(d.SI).then(()=>(e=[...e,a],!0)).catch(e=>{if(e[0]){let t={email:a,reason:e[0]};i=[...i,t]}return!1})||i.length>1)&&(t=!0),(0,Z.L9)("refer_contact",{email:a})}if(t){if(i.length>0&&eo(i.map(e=>e.email)),1===i.length)ec("Error sending a ".concat(U,"s. Reason: ").concat(i[0].reason));else{let e="",t=i.every(e=>{let{reason:t}=e;return"You've already referred this user"===t}),n=i.every(e=>{let{reason:t}=e;return"User is already a member of Scribe"===t});t&&(e="Users are already referred"),n&&(e="Users are already Scribe members"),i.every(e=>{let{reason:t}=e;return"You've already referred this user"===t||"User is already a member of Scribe"===t})&&!(t||n)&&(e="Users are already either referred or members of your team"),ec("Error sending the ".concat(U,"s. Reason: ").concat(e||i[0].reason))}}e.length&&e$(e),ef(!1),t||eH(n)}else if("invite"===U){let e={};Object.keys(en).forEach(t=>{e[et[t]]=en[t]}),X.forEach(t=>{e[t]=eL}),eW({organizationId:ew.id,emails:n,permissionLevels:e,location:Q},{onSuccess:eX(t,n)})}},e2=e=>{let t={...et};Object.keys(t).forEach(i=>{t[i]||(t[i]=e.shift())}),ei(t),ee([...X,...e])},e1=(0,y.useCallback)(()=>(0,n.jsx)(S.z,{onClick:()=>{if((0,Z.L9)("clicked_invite_from_slack",{location:"invite_modal"}),!eM){var e,t;(0,Z.L9)("showed_slack_auth_page",{location:"invite_modal"}),null===(t=window)||void 0===t||null===(e=t.open("https://getscribe.how/slackapp","_blank"))||void 0===e||e.focus()}eZ(!0)},variant:"secondary",children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("img",{src:u.mC,alt:"Slack",className:"mr-2 h-5 w-5 rounded-full"}),(0,n.jsx)("span",{children:"Import from Slack"})]})}),[eM]),e4=()=>{ed&&ec(""),eu&&em(0)},e5=()=>(0,T.ic)()?((0,Z.L9)("schedule_demo",{location:"invite_modal_permission_menu",mobile:!0}),eO.push(eP)):((0,Z.L9)("show_enterprise_feature_gate_modal",{location:"invite_modal_permission_menu"}),eF(!0));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(C.Vq,{open:G&&!eR,onOpenChange:()=>{q(),ec(""),em(0),eo([])},"data-testid":"invite"===U?"inviteModal":"referralModal",children:eA?(0,n.jsx)(u.LS,{slackToken:eM,refetchToken:eD,title:"Import Teammates from Slack",onContinue:e=>{e2(e.map(e=>e.email)),eZ(!1)},onBack:()=>eZ(!1)}):(0,n.jsxs)(C.cZ,{children:[(0,n.jsx)(C.fK,{title:(b="Invite Teammates",eU&&eB&&(eG===r.RH.ADD_YOUR_TEAM?b="Add Your Team":eG===r.RH.ADD_YOUR_COLLEAGUES?b="Add Your Colleagues":eG===r.RH.INCLUDE_YOUR_TEAM&&(b="Include Your Team")),"invite"===U?b:"Refer & Earn"),description:"invite"===U?"Let's get the rest of your team using Scribe!":eI?"Refer your friends and earn $30 credit towards Scribe Pro!":"Unlock 7 days of Scribe Pro for free with each successful referral"}),(0,n.jsxs)(C.SL,{children:["invite"===U&&eg&&(0,n.jsx)(x.p,{selectedTeam:ew,teams:eg,onSelect:ey}),(0,n.jsxs)(L.mQ,{value:H,onValueChange:e=>{"pending"===e&&(0,Z.L9)("switched_to_pending_".concat(U,"_tab"),{team_id:null==ew?void 0:ew.id}),"addUsers"===e&&(0,Z.L9)("switched_to_".concat("invite"===U?"invite":"refer","_users_tab"),{team_id:null==ew?void 0:ew.id}),$(e),e4()},children:[(0,n.jsxs)("div",{className:"flex items-center justify-between pb-4",children:[(0,n.jsxs)(L.dr,{children:[(0,n.jsx)(L.SP,{value:"addUsers",children:"invite"===U?"Invite":"Refer"}),(0,n.jsx)(L.SP,{value:"pending",children:"Pending"})]}),(0,n.jsx)(c.M,{withBadge:!0})]}),(0,n.jsxs)(L.nU,{value:"addUsers",children:["referral"===U&&(0,n.jsxs)("div",{className:(0,z.cn)("flex flex-col"),children:[(0,n.jsx)("p",{className:"mb-2 mt-0 block flex-shrink-0 text-left text-sm text-slate-900",children:"Share your referral link"}),(0,n.jsxs)("button",{"aria-label":"Copy referral link",className:"flex cursor-pointer select-none overflow-hidden rounded-md bg-indigo-100 px-4 py-3",onClick:()=>{v()(ep),e_("Copied to clipboard. Time to share!"),(0,Z.L9)("copied_affiliate_link",{location:"referral_modal"},"action","copied_referral_link"),setTimeout(()=>e_(null),1500)},children:[(0,n.jsx)("p",{className:"m-0 text-start text-sm text-indigo-600",title:ep,children:ep}),(0,n.jsx)("div",{className:"ml-2 flex-shrink-0",children:(0,n.jsx)(o.G,{className:ej?"text-green-600":"text-indigo-400",icon:ej?s.LEp:s.kZ_})})]})]}),(0,n.jsx)(B.Z,{discreteEmails:et,setDiscreteEmails:ei,shouldShowPermissionDropdown:eT,viewerLicensesEnabled:null==ev?void 0:null===(a=ev.active_organization)||void 0===a?void 0:null===(i=a.super_organization)||void 0===i?void 0:i.allow_viewer_licenses,userPermissionLevel:eC,permissionLevels:en,onPermissionChange:(e,t)=>{ea({...en,[e]:t})},onEnterpriseOptionClick:e5,setEmailError:ec}),er?(0,n.jsx)(D.Z,{emails:X,placeholder:"Emails, comma separated",onChange:e=>{ee(e),e4()},className:eT&&"!pr-20",onPermissionChange:e=>ez(e),permissionLevel:eL,showPermissionDropdown:eT,containerClassName:"mt-2",errorEmails:es,viewerLicensesEnabled:null==ev?void 0:null===(g=ev.active_organization)||void 0===g?void 0:null===(f=g.super_organization)||void 0===f?void 0:f.allow_viewer_licenses,onEnterpriseOptionClick:e5,userPermissionLevel:eC}):(0,n.jsx)("div",{children:(0,n.jsx)(S.z,{variant:"ghost",onClick:()=>{(0,Z.L9)("clicked_add_more_multiple_discrete_email_invite",{location:"invite_modal"});let e=Object.keys(et).length;e<3?ei({...et,[e]:null}):el(!0)},icon:s.r8p,className:"mb-4",children:"Add More"})}),(0,n.jsx)(M.Z,{title:"Youâ€™ve reached your weekly invite limit."===ed?(0,n.jsxs)("span",{className:"whitespace-normal",children:[ed," ",(0,n.jsx)("a",{href:"/billing",className:"underline",onClick:()=>(0,Z.L9)("get_scribe_pro",{location:"reached_invite_limit"}),children:"Upgrade to Pro"})," ","to add more teammates."]}):ed,variant:"error",className:"mb-4 rounded-lg text-red-500"}),(0,n.jsx)(M.Z,{className:"mb-4",title:eu>0?"The ".concat(1===eu?"".concat(U," has"):"".concat(U,"s have")," been sent successfully."):"",variant:"success"})]}),(0,n.jsx)(L.nU,{value:"pending",children:(0,n.jsx)(J,{deleteInvites:eJ,loadingTeamInvites:eQ,modalType:U,userInvites:eK})})]})]}),"pending"===H&&"referral"===U?void 0:"pending"===H&&"invite"===U?(0,n.jsx)(C.cN,{primaryAction:{children:"Resend All",disabled:0===eY.filter(e=>null==e?void 0:e.can_resend).length&&!eS,onClick:e=>{e.preventDefault(),(0,Z.L9)("resend_all_invites",{team_id:null==ew?void 0:ew.id}),W((0,E.u0)({teamId:null==ew?void 0:ew.id}))}}}):(0,n.jsx)(C.cN,{className:"!flex-row !justify-end",primaryAction:{className:"capitalize",children:"Send ".concat(U,"s"),disabled:ex,onClick:e0},children:e1()})]})}),eR&&(0,n.jsx)(O.ZP,{selectedFeature:(0,O.Fq)("licenses"),onScheduleDemo:e=>{(0,Z.L9)("schedule_demo",{feature:e,location:"invite_modal_permission_menu"}),(0,R.YQ)(eP)},onClose:()=>{(0,Z.L9)("closed_enterprise_feature_gate_modal",{location:"invite_modal_permission_menu"}),eF(!1)}})]})},$=e=>{let t=(0,l.Z)(r.qQ);return t.ready?t.enabled?(0,n.jsx)(a.Gx,{...e}):(0,n.jsx)(H,{...e}):null}},90340:function(e,t,i){i.d(t,{Z:function(){return s},m:function(){return l}});var n=i(3267),a=i(42171);let r="There was an error sending the invites.";async function l(e){let t,{organizationId:i,emails:l,permissionLevels:s,additionalMessage:o="",location:d=""}=e,c=!1,u=[],m=[];return Promise.all(l.map(async e=>n.Z.inviteUser(e,i,o,s[e],void 0,d).then(()=>(m=[...m,e],!0)).catch(i=>(u=[...u,{email:e,reason:i[0]}],void 0!==i[0]&&void 0===t&&(t="Error sending an invite to ".concat(e,".\nReason: ").concat(i[0])),i.detail&&(t=i.detail),c||(c=!0),!1)).finally(()=>{(0,a.L9)("invite_teammate",{organization_id:i,email:e,...""===d?{}:{location:d}},"action","invited_teammate")}))).then(()=>!1===c?{hasErrors:c}:void 0===t?{hasErrors:c,error:r,failedEmails:u,sentInvites:m}:{hasErrors:c,error:t,failedEmails:u,sentInvites:m})}async function s(e){let t,{organizationId:i,emails:l,permissionLevel:s,additionalMessage:o="",location:d=""}=e,c=!1,u=[],m=[];for(let e of l)await n.Z.inviteUser(e,i,o,s,void 0,d).then(()=>(m=[...m,e],!0)).catch(i=>(u=[...u,{email:e,reason:i[0]}],void 0!==i[0]&&void 0===t&&(t="Error sending an invite to ".concat(e,".\nReason: ").concat(i[0])),i.detail&&(t=i.detail),!1))||c||(c=!0),(0,a.L9)("invite_teammate",{organization_id:i,email:e,...""===d?{}:{location:d}},"action","invited_teammate");return!1===c?{hasErrors:c}:void 0===t?{hasErrors:c,error:r,failedEmails:u,sentInvites:m}:{hasErrors:c,error:t,failedEmails:u,sentInvites:m}}},12494:function(e,t,i){var n=i(24246),a=i(94033);i(27378);var r=i(22967);let l={amber:"text-amber-500",teal:"text-teal-500",indigo:"text-indigo-500",yellow:"text-yellow-500",red:"text-red-500",purple:"text-purple-500",magenta:"text-[#f45397]",gold:"text-[#ffb525]",aqua:"text-[#3AC3FF]"},s={amber:"group-hover:text-amber-500",teal:"group-hover:text-teal-500",indigo:"group-hover:text-indigo-500",yellow:"group-hover:text-yellow-500",red:"group-hover:text-red-500",purple:"group-hover:text-purple-500",magenta:"group-hover:text-[#f45397]",gold:"group-hover:text-[#ffb525]",aqua:"group-hover:text-[#3AC3FF]"};t.Z=e=>{let{title:t,icon:i,color:o,selected:d,onClick:c,className:u,isProTeamsVariant:m}=e;return(0,n.jsxs)("button",{onClick:c,"data-testid":"".concat(t,"-feature-gate-button"),className:(0,r.cn)("group flex h-16 w-[209px] cursor-pointer items-center rounded-lg px-5 py-3.5 transition-all duration-100 ease-linear hover:bg-white hover:shadow-feature-gate-button",{"!h-[105.3px]":!!m,"bg-slate-50 shadow-[0_0_0_1px_rgba(29,75,140,0.1)]":!d,"bg-white shadow-feature-gate-button":d},u),children:[(0,n.jsx)(a.G,{icon:i,className:(0,r.cn)("mr-2 text-base text-slate-500 transition-all duration-200 ease-linear",s[o],d&&l[o])}),(0,n.jsx)("span",{className:"ml-1.5 text-sm font-semibold text-slate-900",children:t})]})}},41700:function(e,t,i){var n=i(24246),a=i(27378),r=i(7131),l=i(22967),s=i(84424);let o={amber:"bg-amber-500",teal:"bg-teal-500",indigo:"bg-indigo-500",yellow:"bg-yellow-500",red:"bg-red-500",purple:"bg-purple-500",magenta:"bg-[#f45397]",gold:"bg-[#ffb525]",aqua:"bg-[#3AC3FF]"};t.Z=e=>{let{title:t,subtitle:i,description:d,color:c,className:u,image:m,isEnterprise:x,removeTag:f,contentClassName:v,imageClassName:h}=e,[p,g]=(0,a.useState)(!1);(0,a.useEffect)(()=>(g(!0),()=>{g(!1)}),[]);let b=x?(0,n.jsx)(s.Z,{}):(0,n.jsx)(r.g,{});return(0,n.jsxs)("div",{className:(0,l.cn)("flex h-[424px] w-[495px] flex-col",u),children:[(0,n.jsx)("div",{className:(0,l.cn)("flex h-[283px] transition-opacity duration-1000 ease-in-out",o[c],p?"opacity-100":"opacity-0",h),children:m&&(0,n.jsx)("img",{alt:"".concat(t," Feature"),src:m,className:(0,l.cn)("flex !h-full w-[495px] object-contain")})}),(0,n.jsxs)("div",{className:(0,l.cn)("flex min-h-[141px] w-full flex-col border-t border-t-slate-200 bg-white p-6",v),children:[(0,n.jsxs)("div",{className:"mb-2 flex w-full items-center justify-center",children:[(0,n.jsx)("span",{className:"mr-2 text-lg font-semibold text-slate-900",children:i||t}),!f&&b]}),(0,n.jsx)("span",{className:"text-center text-sm font-normal text-slate-600",children:d})]})]})}},93939:function(e,t,i){i.d(t,{E:function(){return function e(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t.length<=i)return;let n=t[i];if(!n){e(t,i+1);return}let a=new Image;a.onload=()=>e(t,i+1),a.src=n}}})}}]);